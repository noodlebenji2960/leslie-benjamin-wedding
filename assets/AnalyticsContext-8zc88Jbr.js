import{j as p}from"./jsx-runtime-u17CrQMm.js";import{a}from"./chunk-LFPYN7LY-BSAdruXa.js";const y={category:"RSVP",allowDuplicates:!0},_={category:"RSVP",allowDuplicates:!0},d={category:"RSVP",allowDuplicates:!0},g={category:"RSVP",allowDuplicates:!0,nonInteraction:!0},v={category:"RSVP",dedupeKey:"rsvp_submit_success"},w={category:"RSVP",allowDuplicates:!0,nonInteraction:!0},f={category:"RSVP",dedupeKey:"rsvp_confirmation_view"},D={category:"Registry",allowDuplicates:!0},S={category:"FAQ",allowDuplicates:!0},m={category:"FAQ",allowDuplicates:!0},A={category:"Session",dedupeKey:"session_start"},K={category:"Session",dedupeKey:"session_end"},R={category:"Session",allowDuplicates:!0},x={category:"Session",allowDuplicates:!0},E={category:"Device",dedupeKey:"device_type"},P={category:"User",dedupeKey:"return_visitor"},V={category:"User",dedupeKey:"first_time_visitor"},k={category:"Conversion",dedupeKey:"dynamic"},b={category:"System",allowDuplicates:!0},C={category:"System",allowDuplicates:!0},I={rsvp_start:y,rsvp_step_complete:_,rsvp_step_back:d,rsvp_abandonment:g,rsvp_submit_success:v,rsvp_submit_error:w,rsvp_confirmation_view:f,registry_link_click:D,faq_item_expand:S,faq_item_collapse:m,session_start:A,session_end:K,time_on_site:R,page_exit:x,device_type:E,return_visitor:P,first_time_visitor:V,conversion:k,page_view:b,exception:C},T=I,i={conversion:s=>`conversion_${s?.event_label||"unknown"}`},U=a.createContext(null),j=(...s)=>{typeof window<"u"&&window.gtag?window.gtag(...s):console.warn("[Analytics] gtag not loaded yet")},q=({children:s,cookiePreference:l})=>{const n=a.useRef(new Set),u=(o,r)=>{if(!l?.analytics){console.log(`[Analytics] Skipping "${o}" â€” user did not consent`);return}const e=T[o];if(!e)return console.error(`[Analytics] Unknown event: ${o}`);let t;e.dedupeKey==="dynamic"&&i[o]?t=i[o](r):e.dedupeKey&&(t=e.dedupeKey);const c=e.allowDuplicates??!t;!c&&t&&n.current.has(t)||(j("event",o,{event_category:e.category,...e.nonInteraction&&{non_interaction:!0},...r}),!c&&t&&n.current.add(t))};return p.jsx(U.Provider,{value:{event:u},children:s})};export{q as A};
