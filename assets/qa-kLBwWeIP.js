import{a as c,R as ze,y as Pe,w as Ye,t as Ke}from"./chunk-LFPYN7LY-BSAdruXa.js";import{j as t}from"./jsx-runtime-u17CrQMm.js";import{I as O,u as Ce}from"./lenis-react-fYMU8h9a.js";import{m as H,a as De,A as ce,u as Ge,T as Je}from"./Modal-Dty3x_TM.js";import{D as Qe,M as je}from"./DonateButton-kzCJ1AwI.js";import{c as Xe,b as Oe,u as Ze}from"./ConfigContext-CvZK-xEr.js";import{u as et}from"./LayoutContext-p-UZ0jeN.js";import"./AnalyticsContext-8zc88Jbr.js";import"./i18next-CMP4XeMd.js";const Se=(e,a)=>e>60?O.Rain:e>30?O.Cloud:a<=0?O.Snow:O.Sun,tt=({test:e})=>{const a=De(),{lat:s,lng:r}=a.wedding.ceremony.venue.coordinates,n=c.useMemo(()=>new Date(a.wedding.date),[a.wedding.date]),[o,w]=c.useState([]),[u,h]=c.useState(null),[l,_]=c.useState(null),[p,f]=c.useState(!0),[T,S]=c.useState(!1),N=m=>m.toISOString().split("T")[0],g=m=>m.toLocaleDateString(void 0,{month:"short",day:"numeric"}),L=c.useMemo(()=>{if(!o.length)return"";const m=new Date(o[0].rawDate),i=new Date(o[o.length-1].rawDate),j=`${m.toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"})}, ${m.getFullYear()}`,x=`${i.toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"})}, ${i.getFullYear()}`;return`${j} â€“ ${x}`},[o]),R=c.useMemo(()=>{if(!u)return"";const[m,i]=u.measuredRange.split(" â€“ ");return`${m}, ${n.getFullYear()-1} â€“ ${i}, ${n.getFullYear()-1}`},[u,n]),b=c.useMemo(()=>l?`${l.date}, ${l.year}`:"",[l]);return c.useEffect(()=>{let m=!1;return(async()=>{try{const j=`https://api.open-meteo.com/v1/forecast?latitude=${s}&longitude=${r}&daily=temperature_2m_max,precipitation_probability_max&timezone=auto`,x=n.getFullYear()-1,y=n.getMonth(),I=new Date(x,y,1),C=new Date(x,y+1,0),W=`https://archive-api.open-meteo.com/v1/archive?latitude=${s}&longitude=${r}&start_date=${N(I)}&end_date=${N(C)}&daily=temperature_2m_max,temperature_2m_min,precipitation_sum&timezone=auto`,[K,E]=await Promise.all([fetch(j),fetch(W)]);if(!K.ok||!E.ok)throw new Error("Weather fetch failed");const $=await K.json(),d=await E.json();if(m)return;const P=$.daily.time.slice(0,7).map((U,X)=>({rawDate:U,date:new Date(U).toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"}),temp:Math.round($.daily.temperature_2m_max[X]),precipitation:Math.round($.daily.precipitation_probability_max?.[X]??0)}));w(P);const B=d.daily.temperature_2m_max,F=d.daily.temperature_2m_min,q=d.daily.precipitation_sum,G=q.length,ee=q.filter(U=>U>1).length,ie=G-ee;h({avgTemp:Math.round((U=>U.reduce((X,de)=>X+de,0)/U.length)(B)),maxTemp:Math.round(Math.max(...B)),minTemp:Math.round(Math.min(...F)),rainyDays:ee,sunnyDays:ie,totalDays:G,measuredRange:`${g(I)} â€“ ${g(C)}`});const Q=N(new Date(x,y,n.getDate())),te=d.daily.time.findIndex(U=>U===Q);te>=0&&_({temp:Math.round(d.daily.temperature_2m_max[te]),precipitation:Math.round(d.daily.precipitation_sum[te]),date:g(new Date(Q)),year:x})}catch{m||S(!0)}finally{m||f(!1)}})(),()=>{m=!0}},[s,r,n]),p?t.jsxs("div",{className:"weather-forecast loading",children:[t.jsx(O.More,{className:"loading-spinner"}),t.jsx("p",{children:"Loading weatherâ€¦"})]}):T?t.jsxs("div",{className:"weather-forecast error",children:[t.jsx(O.Cloud,{}),t.jsx("p",{children:t.jsx("strong",{children:"Weather unavailable"})}),t.jsx("small",{children:"Typical summer weather: warm & sunny â˜€ï¸"})]}):t.jsxs(H.div,{className:"weather-forecast compact",initial:{opacity:0},animate:{opacity:1},children:[o.length>0&&t.jsx("strong",{children:L}),t.jsx("div",{className:"weather-forecast__forecast",children:o.slice(0,5).map((m,i)=>{const j=Se(m.precipitation,m.temp),x=new Date,y=new Date(m.rawDate),I=x.getFullYear()===y.getFullYear()&&x.getMonth()===y.getMonth()&&x.getDate()===y.getDate();return t.jsxs("div",{className:`weather-day${I?" today":""}`,children:[t.jsxs("div",{className:"date",children:[t.jsx("div",{className:"icon",children:t.jsx(j,{size:18})}),m.date," ",I&&t.jsxs(t.Fragment,{children:[t.jsx("br",{}),"(today)"]})]}),t.jsxs("div",{children:[m.precipitation>30&&t.jsxs("div",{className:"rain",children:[m.precipitation,"% prec."]}),t.jsxs("div",{className:"temp",children:[m.temp,"Â°"]})]})]},i)})}),l&&t.jsxs("div",{className:"weather-forecast__wedding-day",children:[t.jsxs("strong",{children:[b,":"]}),t.jsx("div",{className:"icon",children:Se(l.precipitation,l.temp)({size:18})}),t.jsxs("span",{children:[l.temp,"Â°"]}),l.precipitation>0&&t.jsxs("span",{children:[" â€¢ ðŸ’§ ",l.precipitation,"mm"]})]}),u&&t.jsxs("div",{className:"weather-forecast__typical",children:[t.jsx("small",{children:R}),t.jsxs("span",{children:["ðŸŒ§ ",u.rainyDays," rainy days â€¢ â˜€ï¸ ",u.sunnyDays," sunny days"]}),t.jsxs("span",{children:["ðŸŒ¡ ",u.avgTemp,"Â°C avg / ",u.maxTemp,"Â° / ",u.minTemp,"Â°"]})]})]})},rt=({player:e,onStop:a,onAdd:s,isAdded:r,canAddMore:n,formatTime:o,progressPercent:w,t:u})=>{const h=c.useRef(null),{state:{fixedOffsetY:l},actions:{setFixedOffset:_,resetFixedOffset:p}}=et();return e.song?(c.useEffect(()=>{if(e.song){const f=h.current?.getBoundingClientRect().height;_(f*-1)}else p();return()=>{p()}},[e,h]),t.jsxs(H.div,{ref:h,className:"mini-player",role:"region","aria-label":u("rsvp:musicRequest.nowPlayingAriaLabel"),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{type:"spring",stiffness:400,damping:30},children:[t.jsx(H.img,{src:e.song.artworkUrl100,alt:`${e.song.trackName} album art`,className:"mini-player__artwork",initial:{opacity:0},animate:{opacity:1},transition:{duration:.15},loading:"lazy"},e.song.artworkUrl100),t.jsxs("div",{className:"mini-player__info",children:[t.jsx(H.span,{className:"mini-player__track",initial:{opacity:0,x:6},animate:{opacity:1,x:0},transition:{duration:.15},children:e.song.trackName},`track-${e.song.trackName}`),t.jsx(H.span,{className:"mini-player__artist",initial:{opacity:0,x:6},animate:{opacity:1,x:0},transition:{duration:.15,delay:.03},children:e.song.artistName},`artist-${e.song.artistName}`),t.jsx("div",{className:"mini-player__progress-bar",role:"progressbar","aria-valuenow":w,"aria-valuemin":0,"aria-valuemax":100,children:t.jsx("div",{className:"mini-player__progress-fill",style:{width:`${w}%`}})})]}),t.jsxs("span",{className:"mini-player__time",children:[o(e.currentTime)," / ",o(e.duration)]}),t.jsxs("div",{className:"mini-player__actions",children:[t.jsx("button",{className:"mini-player__add",onClick:()=>s(e.song),disabled:r||!n,"aria-label":r?`${e.song.trackName} already added`:u("rsvp:musicRequest.addAriaLabel",{songName:e.song.trackName}),children:r?t.jsx(O.Tick,{}):t.jsx(O.Add,{})}),t.jsx("button",{className:"mini-player__stop",onClick:a,"aria-label":u("rsvp:musicRequest.stopAriaLabel",{songName:e.song.trackName}),children:t.jsx(O.Stop,{})})]})]},e.url)):null},at=({showManualEntry:e,manualTrack:a,manualArtist:s,onManualTrackChange:r,onManualArtistChange:n,onAddManual:o,onCancel:w,onToggle:u,t:h})=>t.jsxs("div",{className:"manual-entry-form",children:[t.jsx("input",{type:"text",value:a,onChange:l=>r(l.target.value),placeholder:h("rsvp:musicRequest.manualEntry.songPlaceholder"),className:"form-input","aria-label":h("rsvp:musicRequest.manualEntry.songPlaceholder"),onKeyDown:l=>{l.key==="Enter"&&o()}}),t.jsx("input",{type:"text",value:s,onChange:l=>n(l.target.value),placeholder:h("rsvp:musicRequest.manualEntry.artistPlaceholder"),className:"form-input","aria-label":h("rsvp:musicRequest.manualEntry.artistPlaceholder"),onKeyDown:l=>{l.key==="Enter"&&o()}}),t.jsxs("div",{className:"manual-entry-actions",children:[t.jsx("button",{type:"button",className:"button",onClick:w,children:h("rsvp:musicRequest.manualEntry.cancelButton")}),t.jsx("button",{type:"button",className:"button button--primary",onClick:o,disabled:!a.trim()||!s.trim(),children:h("rsvp:musicRequest.manualEntry.addButton")})]})]}),nt=({currentPage:e,totalPages:a,onPageChange:s})=>{const r=()=>{const o=[];for(let h=1;h<=a;h++)(h===1||h===a||h>=e-1&&h<=e+1)&&o.push(h);const w=[];let u=null;for(const h of o)u!==null&&h-u===2?w.push(u+1):u!==null&&h-u>2&&w.push("â€¦"),w.push(h),u=h;return w};return t.jsxs("div",{className:"dd-pagination",children:[t.jsx("button",{className:"dd-pagination__btn",onClick:()=>s(e-1),disabled:e===1,"aria-label":"Previous page",children:"â€¹"}),r().map((n,o)=>n==="â€¦"?t.jsx("span",{className:"dd-pagination__ellipsis",children:"â€¦"},`ellipsis-${o}`):t.jsx("button",{className:`dd-pagination__btn${n===e?" dd-pagination__btn--active":""}`,onClick:()=>typeof n=="number"&&s(n),disabled:n===e,"aria-current":n===e?"page":void 0,children:n},n)),t.jsx("button",{className:"dd-pagination__btn",onClick:()=>s(e+1),disabled:e===a,"aria-label":"Next page",children:"â€º"})]})},st=({isOpen:e,setIsOpen:a,songQuery:s,artistQuery:r,onSongChange:n,onArtistChange:o,onClear:w,suggestions:u,isSearching:h,error:l,addedSongKeys:_,canAddMore:p,player:f,onPlayToggle:T,onAddSong:S,formatTime:N,currentPage:g,totalPages:L,itemsPerPage:R,totalItems:b,onPageChange:m,onItemsPerPageChange:i,t:j})=>{const x=c.useRef(null),y=c.useRef(null),I=c.useRef(null),[C,W]=c.useState(-1),K=Ce(),E=!!(s||r);c.useEffect(()=>{a(!!E)},[E]),c.useEffect(()=>{const d=P=>{x.current&&!x.current.contains(P.target)&&a(!1)};return document.addEventListener("pointerdown",d),()=>document.removeEventListener("pointerdown",d)},[]),c.useEffect(()=>{W(-1)},[u,g]);const $=c.useCallback(d=>{if(e){if(d.key==="ArrowDown")d.preventDefault(),W(P=>Math.min(P+1,u.length-1));else if(d.key==="ArrowUp")d.preventDefault(),W(P=>Math.max(P-1,-1));else if(d.key==="Escape")a(!1),I.current?.blur();else if(d.key==="Enter"&&C>=0){d.preventDefault();const P=u[C];P&&!_.has(P.id)&&p&&S(P)}}},[e,u,C,_,p]);return c.useEffect(()=>{C>=0&&y.current&&y.current.querySelectorAll(".dropdown-suggestion-item")[C]?.scrollIntoView({block:"nearest"})},[C]),c.useEffect(()=>{if(e&&x.current&&u.length>0){const d=setTimeout(()=>{x.current&&K?.scrollTo(x.current,{offset:document.documentElement.clientHeight/4*-1})},100);return()=>clearTimeout(d)}},[e,u]),t.jsxs("div",{className:"search-dropdown",ref:x,onKeyDown:$,children:[t.jsxs("div",{className:"search-dropdown__inputs",children:[t.jsxs("div",{className:"search-dropdown__input-wrapper",children:[t.jsx("span",{className:"search-dropdown__icon search-dropdown__icon--song",children:t.jsxs("svg",{viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M6 13V3l7-1v10"}),t.jsx("circle",{cx:"4",cy:"13",r:"2"}),t.jsx("circle",{cx:"11",cy:"12",r:"2"})]})}),t.jsx("input",{ref:I,type:"text",value:s,onChange:d=>n(d.target.value),onFocus:()=>E&&a(!0),placeholder:j("rsvp:musicRequest.searchPlaceholder.song"),className:"form-input search-dropdown__input","aria-label":j("rsvp:musicRequest.searchPlaceholder.song"),"aria-expanded":e,"aria-haspopup":"listbox","aria-autocomplete":"list",role:"combobox","aria-controls":"suggestions-listbox","aria-activedescendant":C>=0?`suggestion-item-${u[C]?.id}`:void 0}),s&&t.jsx("button",{className:"search-dropdown__clear-single",onClick:()=>n(""),"aria-label":"Clear song search",tabIndex:-1,children:"âœ•"})]}),t.jsxs("div",{className:"search-dropdown__input-wrapper",children:[t.jsx("span",{className:"search-dropdown__icon search-dropdown__icon--artist",children:t.jsxs("svg",{viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"8",cy:"5",r:"3"}),t.jsx("path",{d:"M2 14c0-3.314 2.686-5 6-5s6 1.686 6 5"})]})}),t.jsx("input",{type:"text",value:r,onChange:d=>o(d.target.value),onFocus:()=>E&&a(!0),placeholder:j("rsvp:musicRequest.searchPlaceholder.artist"),className:"form-input search-dropdown__input","aria-label":j("rsvp:musicRequest.searchPlaceholder.artist")}),r&&t.jsx("button",{className:"search-dropdown__clear-single",onClick:()=>o(""),"aria-label":"Clear artist search",tabIndex:-1,children:"âœ•"})]})]}),t.jsx(ce,{children:e&&t.jsxs(H.div,{className:"search-dropdown__panel",initial:{opacity:0,y:-6,scaleY:.97},animate:{opacity:1,y:0,scaleY:1},exit:{opacity:0,y:-6,scaleY:.97},transition:{duration:.15,ease:"easeOut"},style:{transformOrigin:"top center"},children:[b>0&&t.jsxs("div",{className:"search-dropdown__panel-header",children:[t.jsxs("span",{className:"search-dropdown__total",children:[b," ",b===1?"result":"results"]}),t.jsxs("div",{className:"search-dropdown__pagination-top",children:[L>1&&t.jsxs("div",{className:"search-dropdown__page-select",children:[t.jsx("label",{htmlFor:"dd-page-select",children:"Page"}),t.jsx("select",{id:"dd-page-select",value:g,onChange:d=>m(parseInt(d.target.value)),className:"form-select",children:Array.from({length:L},(d,P)=>P+1).map(d=>t.jsx("option",{value:d,children:d},d))})]}),t.jsx("div",{className:"search-dropdown__per-page",children:t.jsx("select",{value:R,onChange:d=>i(parseInt(d.target.value)),className:"form-select","aria-label":"Results per page",children:dt.map(d=>t.jsxs("option",{value:d,children:[d," / page"]},d))})})]})]}),h&&t.jsxs("div",{role:"status","aria-live":"polite",className:"search-dropdown__status",children:[t.jsx("span",{className:"search-dropdown__spinner","aria-hidden":"true"}),j("rsvp:musicRequest.searching")]}),l&&!h&&t.jsx("div",{role:"alert",className:"search-dropdown__error",children:l}),!h&&u.length>0&&t.jsx("ul",{id:"suggestions-listbox",ref:y,className:"search-dropdown__list",role:"listbox","aria-label":"Song suggestions",children:u.map((d,P)=>{const B=_.has(d.id),F=f.url===d.previewUrl,q=P===C;return t.jsxs(H.li,{id:`suggestion-item-${d.id}`,className:`dropdown-suggestion-item${q?" dropdown-suggestion-item--active":""}${B?" dropdown-suggestion-item--added":""}`,role:"option","aria-selected":B,onMouseEnter:()=>W(P),initial:{opacity:0},animate:{opacity:1},transition:{duration:.1,delay:P*.012},children:[t.jsxs("div",{className:"dd-item__artwork",children:[t.jsx("img",{src:d.artworkUrl100,alt:"",className:"dd-item__artwork-gray",loading:"lazy"}),t.jsx("img",{src:d.artworkUrl100,alt:`${d.trackName} album art`,className:"dd-item__artwork-color",loading:"lazy"}),d.previewUrl&&t.jsx("button",{onClick:G=>{G.stopPropagation(),T(d)},className:`dd-item__play-btn${F?" dd-item__play-btn--playing":""}`,"aria-label":F?j("rsvp:musicRequest.stopAriaLabel",{songName:d.trackName}):j("rsvp:musicRequest.playAriaLabel",{songName:d.trackName}),tabIndex:-1,children:F?t.jsx(O.Stop,{}):t.jsx(O.Play,{})})]}),t.jsxs("div",{className:"dd-item__info",children:[t.jsx("span",{className:"dd-item__track",children:d.trackName}),t.jsx("span",{className:"dd-item__artist",children:d.artistName})]}),t.jsx("button",{className:"dd-item__add-btn",onClick:G=>{G.stopPropagation(),S(d)},disabled:B||!p,"aria-label":B?`${d.trackName} already added`:j("rsvp:musicRequest.addAriaLabel",{songName:d.trackName}),children:B?t.jsx(O.Tick,{}):t.jsx(O.Add,{})})]},d.id)})}),L>1&&t.jsx("div",{className:"search-dropdown__panel-footer",children:t.jsx(nt,{currentPage:g,totalPages:L,onPageChange:m})})]})})]})},it=({songs:e,playerUrl:a,onPlayToggle:s,onRemove:r,t:n})=>t.jsxs("div",{className:"added-songs-section",children:[t.jsx("div",{className:"added-songs-header",children:t.jsx("span",{className:"song-count",children:n("rsvp:musicRequest.addedSongsHeader",{count:e.length,max:Z})})}),t.jsx("ul",{className:"added-songs-list",children:e.map(o=>t.jsxs("li",{className:"added-song-item",children:[t.jsxs("div",{className:"song-info",children:[t.jsx("img",{src:o.artworkUrl100,alt:`${o.trackName} album art`,className:"song-artwork-small",loading:"lazy"}),t.jsxs("div",{className:"song-text",children:[t.jsx("span",{className:"song-name",children:o.trackName}),t.jsx("span",{className:"artist-name",children:o.artistName})]})]}),t.jsxs("div",{className:"song-actions",children:[t.jsx("button",{onClick:()=>r(e.indexOf(o)),className:"remove-btn","aria-label":n("rsvp:musicRequest.removeAriaLabel",{songName:o.trackName}),children:t.jsx(O.Delete,{})}),o.previewUrl&&t.jsx("button",{onClick:()=>s(o),className:"play-btn-small","aria-label":a===o.previewUrl?n("rsvp:musicRequest.stopAriaLabel",{songName:o.trackName}):n("rsvp:musicRequest.playAriaLabel",{songName:o.trackName}),children:a===o.previewUrl?t.jsx(O.Stop,{}):t.jsx(O.Play,{})})]})]},o.id))})]}),ne={song:null,url:null,currentTime:0,duration:0,isTransitioning:!1},ot="https://placehold.co/100x100?text=â™ª",Z=10,ct=400,lt=200,dt=[20,50,100],ue={song:"songTerm",artist:"artistTerm",all:"allArtistTerm"},ut=({musicRequests:e=[],onChange:a})=>{const{locale:s}=Xe(),[r,n]=c.useState(""),[o,w]=c.useState(""),[u,h]=c.useState([]),[l,_]=c.useState(20),[p,f]=c.useState(1),[T,S]=c.useState(!1),[N,g]=c.useState(ne),[L,R]=c.useState(null),[b,m]=c.useState(!1),[i,j]=c.useState(""),[x,y]=c.useState(""),[I,C]=c.useState(!1),[W,K]=c.useState(!1),{t:E}=Oe(["home","common","rsvp"]),$=c.useRef(null),d=c.useRef(),P=c.useRef(),B=Ce(),F=c.useMemo(()=>new Set(e.map(v=>v.id)),[e]),q=e.length<Z,G=e.length>=Z,ee=c.useCallback(v=>{const V=Math.floor(v/60).toString().padStart(2,"0"),M=Math.floor(v%60).toString().padStart(2,"0");return`${V}:${M}`},[]),ie=c.useCallback(()=>!r&&o?ue.artist:r&&!o?ue.song:ue.all,[r,o]);c.useEffect(()=>{const v=new Audio;$.current=v;const V=()=>{g(z=>({...z,duration:v.duration,isTransitioning:!1}))},M=()=>{g(z=>({...z,currentTime:v.currentTime}))},re=()=>{g(ne)},ae=z=>{console.error("Audio error:",z),g(ne),R(E("rsvp:musicRequest.errors.playbackFailed")),setTimeout(()=>R(null),5e3)};return v.addEventListener("loadedmetadata",V),v.addEventListener("timeupdate",M),v.addEventListener("ended",re),v.addEventListener("error",ae),()=>{v.pause(),v.src="",v.load(),v.removeEventListener("loadedmetadata",V),v.removeEventListener("timeupdate",M),v.removeEventListener("ended",re),v.removeEventListener("error",ae),$.current=null}},[E]);const J=c.useCallback(()=>{$.current&&($.current.pause(),$.current.currentTime=0),g(ne)},[]);c.useEffect(()=>{C(N.song!==null)},[N.song]),c.useEffect(()=>()=>{d.current&&clearTimeout(d.current),P.current&&P.current.abort()},[]),c.useEffect(()=>{const v=`${r} ${o}`.trim();if(d.current&&clearTimeout(d.current),P.current&&P.current.abort(),!v){h([]),R(null);return}S(!0),R(null),P.current=new AbortController;const V=ie();return d.current=setTimeout(async()=>{try{const M=new URL("https://itunes.apple.com/search");M.searchParams.append("term",v),M.searchParams.append("entity","song"),M.searchParams.append("attribute",V),M.searchParams.append("limit",lt.toString()),M.searchParams.append("lang",s);const re=await fetch(M.toString(),{signal:P.current?.signal});if(!re.ok)throw new Error("Failed to fetch songs");const ae=await re.json();h(ae.results?.map(z=>({id:String(z.trackId),trackName:z.trackName,artistName:z.artistName,artworkUrl100:z.artworkUrl100,previewUrl:z.previewUrl}))||[]),ae.results?.length===0&&R(E("rsvp:musicRequest.errors.noResults")),f(1)}catch(M){M.name!=="AbortError"&&(console.error("Search error:",M),R(E("rsvp:musicRequest.errors.searchFailed")))}finally{S(!1)}},ct),()=>{d.current&&clearTimeout(d.current)}},[r,o,E,s,ie]);const Q=Math.ceil(u.length/l)||1;c.useEffect(()=>{p>Q&&f(Q)},[p,Q]);const te=c.useMemo(()=>{const v=(p-1)*l;return u.slice(v,v+l)},[u,p,l]),U=c.useCallback(v=>{if(!(!v.previewUrl||!$.current)){if(N.url===v.previewUrl){J();return}$.current.pause(),$.current.src=v.previewUrl,$.current.load(),g({song:v,url:v.previewUrl,currentTime:0,duration:0,isTransitioning:!0}),$.current.play().catch(V=>{console.error("Playback failed:",V),g(ne),R(E("rsvp:musicRequest.errors.playbackFailed")),setTimeout(()=>R(null),5e3)})}},[N.url,J,E]),X=c.useCallback(v=>{!F.has(v.id)&&q&&(a([...e,v].slice(0,Z)),K(!1))},[F,q,e,a,B]),de=c.useCallback(()=>{if(!i.trim()||!x.trim()||!q)return;const v={id:crypto.randomUUID?crypto.randomUUID():`manual-${Date.now()}-${Math.random()}`,trackName:i.trim(),artistName:x.trim(),artworkUrl100:ot};F.has(v.id)||a([...e,v].slice(0,Z)),j(""),y(""),m(!1)},[i,x,q,F,e,a,B]),He=c.useCallback(v=>{const V=[...e],M=V[v];V.splice(v,1),a(V),N.url===M?.previewUrl&&J()},[e,a,N.url,J]),We=c.useCallback(()=>{n(""),w(""),J()},[J]),Be=N.duration>0?N.currentTime/N.duration*100:0;return c.useEffect(()=>{const v=T||!!L||u.length>0;K(v)},[]),t.jsxs("div",{className:"music-request-manager",children:[t.jsxs("div",{className:"search-label",children:[t.jsx(H.label,{className:"add-another-label",initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},children:b?E("rsvp:addSong"):e.length===0?E("rsvp:searchSong"):E("rsvp:addAnother")}),!b&&t.jsx("button",{type:"button",className:"manual-entry-toggle",onClick:()=>m(!0),children:E("rsvp:musicRequest.manualEntry.toggle")})]}),b&&(r||o)&&q?t.jsx(at,{showManualEntry:b,manualTrack:i,manualArtist:x,onManualTrackChange:j,onManualArtistChange:y,onAddManual:de,onCancel:()=>{m(!1),j(""),y("")},onToggle:()=>m(!0),t:E}):t.jsx(st,{isOpen:W,setIsOpen:K,songQuery:r,artistQuery:o,onSongChange:n,onArtistChange:w,onClear:We,suggestions:te,isSearching:T,error:L,addedSongKeys:F,canAddMore:q,player:N,onPlayToggle:U,onAddSong:X,formatTime:ee,currentPage:p,totalPages:Q,itemsPerPage:l,totalItems:u.length,onPageChange:f,onItemsPerPageChange:_,t:E}),e.length>0&&t.jsx(it,{songs:e,playerUrl:N.url,onPlayToggle:U,onRemove:He,t:E}),G&&t.jsx("div",{className:"limit-message",role:"status",children:E("rsvp:musicRequest.limitMessage",{max:Z})}),t.jsx(ce,{mode:"wait",children:I&&N.song&&t.jsx(rt,{player:N,onStop:J,onAdd:X,isAdded:F.has(N.song.id),canAddMore:q,formatTime:ee,progressPercent:Be,t:E})})]})};ze.memo(ut);var pe={exports:{}},me,Ne;function pt(){if(Ne)return me;Ne=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return me=e,me}var he,Re;function mt(){if(Re)return he;Re=1;var e=pt();function a(){}function s(){}return s.resetWarningCache=a,he=function(){function r(w,u,h,l,_,p){if(p!==e){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}r.isRequired=r;function n(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:n,element:r,elementType:r,instanceOf:n,node:r,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:s,resetWarningCache:a};return o.PropTypes=o,o},he}var ke;function ht(){return ke||(ke=1,pe.exports=mt()()),pe.exports}var ft=ht();const A=Pe(ft);var gt=["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl","isolated"];function ye(){return ye=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},ye.apply(this,arguments)}function yt(e,a){if(e==null)return{};var s={},r=Object.keys(e),n,o;for(o=0;o<r.length;o++)n=r[o],!(a.indexOf(n)>=0)&&(s[n]=e[n]);return s}function oe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vt(e,a){e.prototype=Object.create(a.prototype),e.prototype.constructor=e,ve(e,a)}function ve(e,a){return ve=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},ve(e,a)}var le=(function(e){vt(a,e);function a(){var r;return r=e.call(this)||this,r.handleExpired=r.handleExpired.bind(oe(r)),r.handleErrored=r.handleErrored.bind(oe(r)),r.handleChange=r.handleChange.bind(oe(r)),r.handleRecaptchaRef=r.handleRecaptchaRef.bind(oe(r)),r}var s=a.prototype;return s.getCaptchaFunction=function(n){return this.props.grecaptcha?this.props.grecaptcha.enterprise?this.props.grecaptcha.enterprise[n]:this.props.grecaptcha[n]:null},s.getValue=function(){var n=this.getCaptchaFunction("getResponse");return n&&this._widgetId!==void 0?n(this._widgetId):null},s.getWidgetId=function(){return this.props.grecaptcha&&this._widgetId!==void 0?this._widgetId:null},s.execute=function(){var n=this.getCaptchaFunction("execute");if(n&&this._widgetId!==void 0)return n(this._widgetId);this._executeRequested=!0},s.executeAsync=function(){var n=this;return new Promise(function(o,w){n.executionResolve=o,n.executionReject=w,n.execute()})},s.reset=function(){var n=this.getCaptchaFunction("reset");n&&this._widgetId!==void 0&&n(this._widgetId)},s.forceReset=function(){var n=this.getCaptchaFunction("reset");n&&n()},s.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},s.handleErrored=function(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},s.handleChange=function(n){this.props.onChange&&this.props.onChange(n),this.executionResolve&&(this.executionResolve(n),delete this.executionReject,delete this.executionResolve)},s.explicitRender=function(){var n=this.getCaptchaFunction("render");if(n&&this._widgetId===void 0){var o=document.createElement("div");this._widgetId=n(o,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge,isolated:this.props.isolated}),this.captcha.appendChild(o)}this._executeRequested&&this.props.grecaptcha&&this._widgetId!==void 0&&(this._executeRequested=!1,this.execute())},s.componentDidMount=function(){this.explicitRender()},s.componentDidUpdate=function(){this.explicitRender()},s.handleRecaptchaRef=function(n){this.captcha=n},s.render=function(){var n=this.props;n.sitekey,n.onChange,n.theme,n.type,n.tabindex,n.onExpired,n.onErrored,n.size,n.stoken,n.grecaptcha,n.badge,n.hl,n.isolated;var o=yt(n,gt);return c.createElement("div",ye({},o,{ref:this.handleRecaptchaRef}))},a})(c.Component);le.displayName="ReCAPTCHA";le.propTypes={sitekey:A.string.isRequired,onChange:A.func,grecaptcha:A.object,theme:A.oneOf(["dark","light"]),type:A.oneOf(["image","audio"]),tabindex:A.number,onExpired:A.func,onErrored:A.func,size:A.oneOf(["compact","normal","invisible"]),stoken:A.string,hl:A.string,badge:A.oneOf(["bottomright","bottomleft","inline"]),isolated:A.bool};le.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var fe={exports:{}},k={};var Te;function bt(){if(Te)return k;Te=1;var e=typeof Symbol=="function"&&Symbol.for,a=e?Symbol.for("react.element"):60103,s=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,n=e?Symbol.for("react.strict_mode"):60108,o=e?Symbol.for("react.profiler"):60114,w=e?Symbol.for("react.provider"):60109,u=e?Symbol.for("react.context"):60110,h=e?Symbol.for("react.async_mode"):60111,l=e?Symbol.for("react.concurrent_mode"):60111,_=e?Symbol.for("react.forward_ref"):60112,p=e?Symbol.for("react.suspense"):60113,f=e?Symbol.for("react.suspense_list"):60120,T=e?Symbol.for("react.memo"):60115,S=e?Symbol.for("react.lazy"):60116,N=e?Symbol.for("react.block"):60121,g=e?Symbol.for("react.fundamental"):60117,L=e?Symbol.for("react.responder"):60118,R=e?Symbol.for("react.scope"):60119;function b(i){if(typeof i=="object"&&i!==null){var j=i.$$typeof;switch(j){case a:switch(i=i.type,i){case h:case l:case r:case o:case n:case p:return i;default:switch(i=i&&i.$$typeof,i){case u:case _:case S:case T:case w:return i;default:return j}}case s:return j}}}function m(i){return b(i)===l}return k.AsyncMode=h,k.ConcurrentMode=l,k.ContextConsumer=u,k.ContextProvider=w,k.Element=a,k.ForwardRef=_,k.Fragment=r,k.Lazy=S,k.Memo=T,k.Portal=s,k.Profiler=o,k.StrictMode=n,k.Suspense=p,k.isAsyncMode=function(i){return m(i)||b(i)===h},k.isConcurrentMode=m,k.isContextConsumer=function(i){return b(i)===u},k.isContextProvider=function(i){return b(i)===w},k.isElement=function(i){return typeof i=="object"&&i!==null&&i.$$typeof===a},k.isForwardRef=function(i){return b(i)===_},k.isFragment=function(i){return b(i)===r},k.isLazy=function(i){return b(i)===S},k.isMemo=function(i){return b(i)===T},k.isPortal=function(i){return b(i)===s},k.isProfiler=function(i){return b(i)===o},k.isStrictMode=function(i){return b(i)===n},k.isSuspense=function(i){return b(i)===p},k.isValidElementType=function(i){return typeof i=="string"||typeof i=="function"||i===r||i===l||i===o||i===n||i===p||i===f||typeof i=="object"&&i!==null&&(i.$$typeof===S||i.$$typeof===T||i.$$typeof===w||i.$$typeof===u||i.$$typeof===_||i.$$typeof===g||i.$$typeof===L||i.$$typeof===R||i.$$typeof===N)},k.typeOf=b,k}var Le;function xt(){return Le||(Le=1,fe.exports=bt()),fe.exports}var ge,Ee;function wt(){if(Ee)return ge;Ee=1;var e=xt(),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},n={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[e.ForwardRef]=r,o[e.Memo]=n;function w(S){return e.isMemo(S)?n:o[S.$$typeof]||a}var u=Object.defineProperty,h=Object.getOwnPropertyNames,l=Object.getOwnPropertySymbols,_=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;function T(S,N,g){if(typeof N!="string"){if(f){var L=p(N);L&&L!==f&&T(S,L,g)}var R=h(N);l&&(R=R.concat(l(N)));for(var b=w(S),m=w(N),i=0;i<R.length;++i){var j=R[i];if(!s[j]&&!(g&&g[j])&&!(m&&m[j])&&!(b&&b[j])){var x=_(N,j);try{u(S,j,x)}catch{}}}}return S}return ge=T,ge}var _t=wt();const jt=Pe(_t);function be(){return be=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},be.apply(this,arguments)}function St(e,a){if(e==null)return{};var s={},r=Object.keys(e),n,o;for(o=0;o<r.length;o++)n=r[o],!(a.indexOf(n)>=0)&&(s[n]=e[n]);return s}function Nt(e,a){e.prototype=Object.create(a.prototype),e.prototype.constructor=e,e.__proto__=a}var Y={},Rt=0;function kt(e,a){return a=a||{},function(r){var n=r.displayName||r.name||"Component",o=(function(u){Nt(h,u);function h(_,p){var f;return f=u.call(this,_,p)||this,f.state={},f.__scriptURL="",f}var l=h.prototype;return l.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+Rt++),this.__scriptLoaderID},l.setupScriptURL=function(){return this.__scriptURL=typeof e=="function"?e():e,this.__scriptURL},l.asyncScriptLoaderHandleLoad=function(p){var f=this;this.setState(p,function(){return f.props.asyncScriptOnLoad&&f.props.asyncScriptOnLoad(f.state)})},l.asyncScriptLoaderTriggerOnScriptLoaded=function(){var p=Y[this.__scriptURL];if(!p||!p.loaded)throw new Error("Script is not loaded.");for(var f in p.observers)p.observers[f](p);delete window[a.callbackName]},l.componentDidMount=function(){var p=this,f=this.setupScriptURL(),T=this.asyncScriptLoaderGetScriptLoaderID(),S=a,N=S.globalName,g=S.callbackName,L=S.scriptId;if(N&&typeof window[N]<"u"&&(Y[f]={loaded:!0,observers:{}}),Y[f]){var R=Y[f];if(R&&(R.loaded||R.errored)){this.asyncScriptLoaderHandleLoad(R);return}R.observers[T]=function(x){return p.asyncScriptLoaderHandleLoad(x)};return}var b={};b[T]=function(x){return p.asyncScriptLoaderHandleLoad(x)},Y[f]={loaded:!1,observers:b};var m=document.createElement("script");m.src=f,m.async=!0;for(var i in a.attributes)m.setAttribute(i,a.attributes[i]);L&&(m.id=L);var j=function(y){if(Y[f]){var I=Y[f],C=I.observers;for(var W in C)y(C[W])&&delete C[W]}};g&&typeof window<"u"&&(window[g]=function(){return p.asyncScriptLoaderTriggerOnScriptLoaded()}),m.onload=function(){var x=Y[f];x&&(x.loaded=!0,j(function(y){return g?!1:(y(x),!0)}))},m.onerror=function(){var x=Y[f];x&&(x.errored=!0,j(function(y){return y(x),!0}))},document.body.appendChild(m)},l.componentWillUnmount=function(){var p=this.__scriptURL;if(a.removeOnUnmount===!0)for(var f=document.getElementsByTagName("script"),T=0;T<f.length;T+=1)f[T].src.indexOf(p)>-1&&f[T].parentNode&&f[T].parentNode.removeChild(f[T]);var S=Y[p];S&&(delete S.observers[this.asyncScriptLoaderGetScriptLoaderID()],a.removeOnUnmount===!0&&delete Y[p])},l.render=function(){var p=a.globalName,f=this.props;f.asyncScriptOnLoad;var T=f.forwardedRef,S=St(f,["asyncScriptOnLoad","forwardedRef"]);return p&&typeof window<"u"&&(S[p]=typeof window[p]<"u"?window[p]:void 0),S.ref=T,c.createElement(r,S)},h})(c.Component),w=c.forwardRef(function(u,h){return c.createElement(o,be({},u,{forwardedRef:h}))});return w.displayName="AsyncScriptLoader("+n+")",w.propTypes={asyncScriptOnLoad:A.func},jt(w,r)}}var xe="onloadcallback",Tt="grecaptcha";function we(){return typeof window<"u"&&window.recaptchaOptions||{}}function Lt(){var e=we(),a=e.useRecaptchaNet?"recaptcha.net":"www.google.com";return e.enterprise?"https://"+a+"/recaptcha/enterprise.js?onload="+xe+"&render=explicit":"https://"+a+"/recaptcha/api.js?onload="+xe+"&render=explicit"}kt(Lt,{callbackName:xe,globalName:Tt,attributes:we().nonce?{nonce:we().nonce}:{}})(le);class se{constructor(a=0,s="Network Error"){this.status=a,this.text=s}}const Et=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,a)=>Promise.resolve(localStorage.setItem(e,a)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},D={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:Et()},_e=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},Pt=(e,a="https://api.emailjs.com")=>{if(!e)return;const s=_e(e);D.publicKey=s.publicKey,D.blockHeadless=s.blockHeadless,D.storageProvider=s.storageProvider,D.blockList=s.blockList,D.limitRate=s.limitRate,D.origin=s.origin||a},$e=async(e,a,s={})=>{const r=await fetch(D.origin+e,{method:"POST",headers:s,body:a}),n=await r.text(),o=new se(r.status,n);if(r.ok)return o;throw o},Me=(e,a,s)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!a||typeof a!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!s||typeof s!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},Ct=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},Ae=e=>e.webdriver||!e.languages||e.languages.length===0,Ie=()=>new se(451,"Unavailable For Headless Browser"),Dt=(e,a)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof a!="string")throw"The BlockList watchVariable has to be a string"},Ot=e=>!e.list?.length||!e.watchVariable,$t=(e,a)=>e instanceof FormData?e.get(a):e[a],Fe=(e,a)=>{if(Ot(e))return!1;Dt(e.list,e.watchVariable);const s=$t(a,e.watchVariable);return typeof s!="string"?!1:e.list.includes(s)},qe=()=>new se(403,"Forbidden"),Mt=(e,a)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(a&&typeof a!="string")throw"The LimitRate ID has to be a non-empty string"},At=async(e,a,s)=>{const r=Number(await s.get(e)||0);return a-Date.now()+r},Ue=async(e,a,s)=>{if(!a.throttle||!s)return!1;Mt(a.throttle,a.id);const r=a.id||e;return await At(r,a.throttle,s)>0?!0:(await s.set(r,Date.now().toString()),!1)},Ve=()=>new se(429,"Too Many Requests"),It=async(e,a,s,r)=>{const n=_e(r),o=n.publicKey||D.publicKey,w=n.blockHeadless||D.blockHeadless,u=n.storageProvider||D.storageProvider,h={...D.blockList,...n.blockList},l={...D.limitRate,...n.limitRate};return w&&Ae(navigator)?Promise.reject(Ie()):(Me(o,e,a),Ct(s),s&&Fe(h,s)?Promise.reject(qe()):await Ue(location.pathname,l,u)?Promise.reject(Ve()):$e("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:o,service_id:e,template_id:a,template_params:s}),{"Content-type":"application/json"}))},Ft=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},qt=e=>typeof e=="string"?document.querySelector(e):e,Ut=async(e,a,s,r)=>{const n=_e(r),o=n.publicKey||D.publicKey,w=n.blockHeadless||D.blockHeadless,u=D.storageProvider||n.storageProvider,h={...D.blockList,...n.blockList},l={...D.limitRate,...n.limitRate};if(w&&Ae(navigator))return Promise.reject(Ie());const _=qt(s);Me(o,e,a),Ft(_);const p=new FormData(_);return Fe(h,p)?Promise.reject(qe()):await Ue(location.pathname,l,u)?Promise.reject(Ve()):(p.append("lib_version","4.4.1"),p.append("service_id",e),p.append("template_id",a),p.append("user_id",o),$e("/api/v1.0/email/send-form",p))},Vt={init:Pt,send:It,sendForm:Ut,EmailJSResponseStatus:se},Ht="gVksEDEDoKBjB0TJU";Vt.init(Ht);const Wt=()=>{const e=Ze(),{t:a,ready:s}=Oe("qa"),r=De(),[n,o]=c.useState("essentials"),[w,u]=c.useState(null),{buildLink:h}=Ge();if(!s)return t.jsx("div",{className:"loading",children:a("loading","Loading...")});const l=c.useMemo(()=>{const g=r.schedule.find(y=>y.id==="bus-to-venue"||y.type==="bus-to-venue"),L=r.schedule.find(y=>y.id==="bus-from-venue"||y.type==="bus-from-venue"),b=r.schedule.find(y=>y.id==="bus-to-venue"||y.maps?.[0]?.label?.includes("to"))?.maps?.[0],i=r.schedule.find(y=>y.id==="bus-from-venue"||y.maps?.[0]?.label?.includes("from"))?.maps?.[0],j=r.contact.find(y=>y.name.includes(r.bride.firstName)),x=r.contact.find(y=>y.name.includes(r.groom.firstName));return{busToVenue:{time:g?.time||"18:00",mainCoords:b?.coordinates||null,extraCoords:(b?.extraCoordinates||[]).map(y=>({lat:y.lat,lng:y.lng,label:y.label||"",showMarker:!0})),mapUrl:b?.mapUrl||"",showRoute:b?.showRoute||!1,label:b?.label||"Bus to Venue"},busFromVenue:{time:L?.time||"00:00",mainCoords:i?.coordinates||null,extraCoords:(i?.extraCoordinates||[]).map(y=>({lat:y.lat,lng:y.lng,label:y.label||"",showMarker:!0})),mapUrl:i?.mapUrl||"",showRoute:i?.showRoute||!1,label:i?.label||"Bus from Venue"},venueCoordinates:r.wedding.ceremony.venue.coordinates,rsvpDeadline:r.rsvp.deadline,ceremonyTime:r.wedding.ceremony.time,ceremonyVenue:r.wedding.ceremony.venue.longName,venueMapLink:r.wedding.ceremony.venue.mapLink,venueWebsite:r.wedding.ceremony.venue.website,weddingDate:{full:new Date(r.wedding.date).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}),month:new Date(r.wedding.date).toLocaleDateString(void 0,{month:"long"})},brideFirstName:r.bride.firstName,bridePhone:j?.phone||"",groomFirstName:r.groom.firstName,groomPhone:x?.phone||"",airports:r.travel?.nearestAirport||[],hotels:r.travel?.hotels||[]}},[r]),_=c.useMemo(()=>a("items",{returnObjects:!0,...l})||[],[a,l]),p=c.useMemo(()=>e.qa?.questions?e.qa.questions.filter(([g,L])=>L).map(([g])=>g):[],[e.qa?.questions]),f=c.useMemo(()=>_.filter(g=>p.includes(g.id)&&(n==="all"?!0:g.category===n)),[_,n,p]),T=c.useCallback(g=>{u(L=>L===g?null:g)},[]),S=c.useCallback(g=>{o(g),u(null)},[]),N=["essentials","logistics","style","family","gifts","travel","all"];return t.jsxs("div",{className:"qa-page container",children:[t.jsx(H.h1,{className:"qa-title",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},children:a("title")}),t.jsx("div",{className:"qa-categories",children:N.map(g=>t.jsx(H.button,{className:`category-tab ${n===g?"active":""}`,onClick:()=>S(g),children:a(g)},g))}),t.jsx("div",{className:"qa-list",children:t.jsx(ce,{mode:"popLayout",children:f.map((g,L)=>{const R=_.findIndex(m=>m.question===g.question),b=w===R;return t.jsxs(H.div,{className:"qa-item",layout:!0,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:[t.jsxs("button",{className:`qa-question ${b?"open":""}`,onClick:()=>T(R),children:[t.jsx("span",{children:g.question}),t.jsx(O.Down,{className:`chevron ${b?"rotate-180":""}`})]}),t.jsx(ce,{children:b&&t.jsx(H.div,{className:"qa-answer",initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},children:t.jsx("div",{className:"answer-content",children:t.jsx(Je,{i18nKey:`items.${R}.answer`,t:a,values:l,components:{RSVPLink:e.rsvp.enabled?t.jsxs(t.Fragment,{children:[t.jsx("br",{}),t.jsx("br",{}),t.jsx(Ke,{to:h("/rsvp"),children:a("links.goToRSVP")})]}):t.jsxs(t.Fragment,{children:[t.jsx("br",{}),t.jsx("br",{}),a(`items.${R}.notEnabled`)]}),VenueLink:t.jsx("a",{href:l.venueWebsite,target:"_blank",rel:"noopener noreferrer",style:{fontWeight:"bold",textDecoration:"none",color:"inherit"},children:l.ceremonyVenue}),MapVenue:t.jsx(je,{coordinates:l.venueCoordinates,label:l.ceremonyVenue,mapUrl:l.venueMapLink,interactive:!1,zoom:12}),MapBus:t.jsx(je,{label:l.busToVenue.label,coordinates:l.busToVenue.mainCoords,extraCoordinates:l.busToVenue.extraCoords,mapUrl:l.busToVenue.mapUrl,showRoute:l.busToVenue.showRoute,interactive:!1,width:"100%",height:"400px"}),DonateButton:t.jsx(Qe,{}),WeatherForecast:e.weather.enabled?t.jsx(tt,{}):null,SkyscannerLink:t.jsx("a",{href:"https://www.skyscanner.com/",target:"_blank",rel:"noopener noreferrer",children:a("links.skyscanner")}),AirBnbLink:t.jsx("a",{href:"https://www.airbnb.com/",target:"_blank",rel:"noopener noreferrer",children:a("links.airbnb")}),AirportsList:t.jsx("ul",{children:l.airports.map((m,i)=>t.jsxs("li",{children:[t.jsxs("strong",{children:[m.name," (",m.code,")"]})," ","â€“"," ",a("distance",{distance:m.distance}),","," ",a("transport",{transport:m.transportOptions.join(", ")})]},i))}),HotelLinks:t.jsx("ul",{children:l.hotels.map((m,i)=>t.jsx("li",{children:t.jsxs("a",{href:m.website,target:"_blank",rel:"noopener noreferrer",children:[m.name," â€“ ",m.address]})},i))}),strong:t.jsx("strong",{}),p:t.jsx("p",{}),br:t.jsx("br",{})}})})})})]},`${g.id}-${L}`)})})})]})},er=Ye(Wt);export{er as default};
