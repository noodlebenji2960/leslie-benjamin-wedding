import{y as at,a as v}from"./chunk-EPOLDU6W-C9vtjoJn.js";import{k as ct}from"./i18next-BDvusv7y.js";import{w as K,g as Q,b as tt,i as $,c as X,d as V,e as ht,I as ut}from"./useTranslation-DvHpW7Xw.js";import{j as z}from"./jsx-runtime-u17CrQMm.js";import{I as pt}from"./Icon-CNAYQKQe.js";import{A as ft,m as q}from"./proxy-B0g1OEgh.js";var Y,B;function dt(){return B||(B=1,Y={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),Y}var mt=dt();const vt=at(mt);var St=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function Z(t){var e={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},i=t.match(/<\/?([^\s]+?)[/\s>]/);if(i&&(e.name=i[1],(vt[i[1]]||t.charAt(t.length-2)==="/")&&(e.voidElement=!0),e.name.startsWith("!--"))){var s=t.indexOf("-->");return{type:"comment",comment:s!==-1?t.slice(4,s):""}}for(var n=new RegExp(St),r=null;(r=n.exec(t))!==null;)if(r[0].trim())if(r[1]){var o=r[1].trim(),l=[o,""];o.indexOf("=")>-1&&(l=o.split("=")),e.attrs[l[0]]=l[1],n.lastIndex--}else r[2]&&(e.attrs[r[2]]=r[3].trim().substring(1,r[3].length-1));return e}var gt=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,yt=/^\s*$/,wt=Object.create(null);function et(t,e){switch(e.type){case"text":return t+e.content;case"tag":return t+="<"+e.name+(e.attrs?(function(i){var s=[];for(var n in i)s.push(n+'="'+i[n]+'"');return s.length?" "+s.join(" "):""})(e.attrs):"")+(e.voidElement?"/>":">"),e.voidElement?t:t+e.children.reduce(et,"")+"</"+e.name+">";case"comment":return t+"<!--"+e.comment+"-->"}}var Et={parse:function(t,e){e||(e={}),e.components||(e.components=wt);var i,s=[],n=[],r=-1,o=!1;if(t.indexOf("<")!==0){var l=t.indexOf("<");s.push({type:"text",content:l===-1?t:t.substring(0,l)})}return t.replace(gt,function(a,p){if(o){if(a!=="</"+i.name+">")return;o=!1}var f,S=a.charAt(1)!=="/",d=a.startsWith("<!--"),c=p+a.length,h=t.charAt(c);if(d){var g=Z(a);return r<0?(s.push(g),s):((f=n[r]).children.push(g),s)}if(S&&(r++,(i=Z(a)).type==="tag"&&e.components[i.name]&&(i.type="component",o=!0),i.voidElement||o||!h||h==="<"||i.children.push({type:"text",content:t.slice(c,t.indexOf("<",c))}),r===0&&s.push(i),(f=n[r-1])&&f.children.push(i),n[r]=i),(!S||i.voidElement)&&(r>-1&&(i.voidElement||i.name===a.slice(2,-1))&&(r--,i=r===-1?s:n[r]),!o&&h!=="<"&&h)){f=r===-1?s:n[r].children;var m=t.indexOf("<",c),T=t.slice(c,m===-1?void 0:m);yt.test(T)&&(T=" "),(m>-1&&r+f.length>=0||T!==" ")&&f.push({type:"text",content:T})}}),s},stringify:function(t){return t.reduce(function(e,i){return e+et("",i)},"")}};const P=(t,e)=>{if(!t)return!1;const i=t.props?.children??t.children;return e?i.length>0:!!i},F=t=>{if(!t)return[];const e=t.props?.children??t.children;return t.props?.i18nIsDynamicList?W(e):e},bt=t=>Array.isArray(t)&&t.every(v.isValidElement),W=t=>Array.isArray(t)?t:[t],Tt=(t,e)=>{const i={...e};return i.props={...e.props,...t.props},i},xt=t=>{const e={};if(!t)return e;const i=s=>{W(s).forEach(r=>{$(r)||(P(r)?i(F(r)):V(r)&&!v.isValidElement(r)&&Object.assign(e,r))})};return i(t),e},it=(t,e,i,s)=>{if(!t)return"";let n="";const r=W(t),o=e?.transSupportBasicHtmlNodes?e.transKeepBasicHtmlNodesFor??[]:[];return r.forEach((l,a)=>{if($(l)){n+=`${l}`;return}if(v.isValidElement(l)){const{props:p,type:f}=l,S=Object.keys(p).length,d=o.indexOf(f)>-1,c=p.children;if(!c&&d&&!S){n+=`<${f}/>`;return}if(!c&&(!d||S)||p.i18nIsDynamicList){n+=`<${a}></${a}>`;return}if(d&&S===1&&$(c)){n+=`<${f}>${c}</${f}>`;return}const h=it(c,e,i,s);n+=`<${a}>${h}</${a}>`;return}if(l===null){X(i,"TRANS_NULL_VALUE","Passed in a null value as child",{i18nKey:s});return}if(V(l)){const{format:p,...f}=l,S=Object.keys(f);if(S.length===1){const d=p?`${S[0]}, ${p}`:S[0];n+=`{{${d}}}`;return}X(i,"TRANS_INVALID_OBJ","Invalid child - Object should only have keys {{ value, format }} (format is optional).",{i18nKey:s,child:l});return}X(i,"TRANS_INVALID_VAR","Passed in a variable like {number} - pass variables for interpolation as full objects like {{number}}.",{i18nKey:s,child:l})}),n},Nt=(t,e=[],i={})=>{if(!t)return t;const s=Object.keys(i),n=[...e,...s];let r="",o=0;for(;o<t.length;)if(t[o]==="<"){let l=!1;const a=t.slice(o).match(/^<\/(\d+|[a-zA-Z][a-zA-Z0-9_-]*)>/);if(a){const p=a[1];(/^\d+$/.test(p)||n.includes(p))&&(l=!0,r+=a[0],o+=a[0].length)}if(!l){const p=t.slice(o).match(/^<(\d+|[a-zA-Z][a-zA-Z0-9_-]*)(\s+[\w-]+(?:=(?:"[^"]*"|'[^']*'|[^\s>]+))?)*\s*(\/)?>/);if(p){const f=p[1];(/^\d+$/.test(f)||n.includes(f))&&(l=!0,r+=p[0],o+=p[0].length)}}l||(r+="&lt;",o+=1)}else r+=t[o],o+=1;return r},Lt=(t,e,i,s,n,r,o)=>{if(i==="")return[];const l=n.transKeepBasicHtmlNodesFor||[],a=i&&new RegExp(l.map(y=>`<${y}`).join("|")).test(i);if(!t&&!e&&!a&&!o)return[i];const p=e??{},f=y=>{W(y).forEach(E=>{$(E)||(P(E)?f(F(E)):V(E)&&!v.isValidElement(E)&&Object.assign(p,E))})};f(t);const S=Nt(i,l,p),d=Et.parse(`<0>${S}</0>`),c={...p,...r},h=(y,x,E)=>{const b=F(y),C=m(b,x.children,E);return bt(b)&&C.length===0||y.props?.i18nIsDynamicList?b:C},g=(y,x,E,b,C)=>{y.dummy?(y.children=x,E.push(v.cloneElement(y,{key:b},C?void 0:x))):E.push(...v.Children.map([y],w=>{const u="data-i18n-is-dynamic-list",O={key:b,[u]:void 0};return w&&w.props&&Object.keys(w.props).forEach(A=>{A==="ref"||A==="children"||A==="i18nIsDynamicList"||A===u||(O[A]=w.props[A])}),v.cloneElement(w,O,C?null:x)}))},m=(y,x,E)=>{const b=W(y);return W(x).reduce((w,u,O)=>{const A=u.children?.[0]?.content&&s.services.interpolator.interpolate(u.children[0].content,c,s.language);if(u.type==="tag"){let k=b[parseInt(u.name,10)];!k&&e&&(k=e[u.name]),E.length===1&&!k&&(k=E[0][u.name]),k||(k={});const R={...u.attrs};o&&Object.keys(R).forEach(N=>{const j=R[N];$(j)&&(R[N]=ht(j))});const L=Object.keys(R).length!==0?Tt({props:R},k):k,_=v.isValidElement(L),I=_&&P(u,!0)&&!u.voidElement,D=a&&V(L)&&L.dummy&&!_,M=V(e)&&Object.hasOwnProperty.call(e,u.name);if($(L)){const N=s.services.interpolator.interpolate(L,c,s.language);w.push(N)}else if(P(L)||I){const N=h(L,u,E);g(L,N,w,O)}else if(D){const N=m(b,u.children,E);g(L,N,w,O)}else if(Number.isNaN(parseFloat(u.name)))if(M){const N=h(L,u,E);g(L,N,w,O,u.voidElement)}else if(n.transSupportBasicHtmlNodes&&l.indexOf(u.name)>-1)if(u.voidElement)w.push(v.createElement(u.name,{key:`${u.name}-${O}`}));else{const N=m(b,u.children,E);w.push(v.createElement(u.name,{key:`${u.name}-${O}`},N))}else if(u.voidElement)w.push(`<${u.name} />`);else{const N=m(b,u.children,E);w.push(`<${u.name}>${N}</${u.name}>`)}else if(V(L)&&!_){const N=u.children[0]?A:null;N&&w.push(N)}else g(L,A,w,O,u.children.length!==1||!A)}else if(u.type==="text"){const k=n.transWrapTextNodes,R=typeof n.unescape=="function"?n.unescape:Q().unescape,L=o?R(s.services.interpolator.interpolate(u.content,c,s.language)):s.services.interpolator.interpolate(u.content,c,s.language);k?w.push(v.createElement(k,{key:`${u.name}-${O}`},L)):w.push(L)}return w},[])},T=m([{dummy:!0,children:t||[]}],d,W(t||[]));return F(T[0])},st=(t,e,i)=>{const s=t.key||e,n=v.cloneElement(t,{key:s});if(!n.props||!n.props.children||i.indexOf(`${e}/>`)<0&&i.indexOf(`${e} />`)<0)return n;function r(){return v.createElement(v.Fragment,null,n)}return v.createElement(r,{key:s})},Ot=(t,e)=>t.map((i,s)=>st(i,s,e)),kt=(t,e)=>{const i={};return Object.keys(t).forEach(s=>{Object.assign(i,{[s]:st(t[s],s,e)})}),i},Ct=(t,e,i,s)=>t?Array.isArray(t)?Ot(t,e):V(t)?kt(t,e):(K(i,"TRANS_INVALID_COMPONENTS",'<Trans /> "components" prop expects an object or array',{i18nKey:s}),null):null,At=t=>!V(t)||Array.isArray(t)?!1:Object.keys(t).reduce((e,i)=>e&&Number.isNaN(Number.parseFloat(i)),!0);function zt({children:t,count:e,parent:i,i18nKey:s,context:n,tOptions:r={},values:o,defaults:l,components:a,ns:p,i18n:f,t:S,shouldUnescape:d,...c}){const h=f||tt();if(!h)return K(h,"NO_I18NEXT_INSTANCE","Trans: You need to pass in an i18next instance using i18nextReactModule",{i18nKey:s}),t;const g=S||h.t.bind(h)||(lt=>lt),m={...Q(),...h.options?.react};let T=p||g.ns||h.options?.defaultNS;T=$(T)?[T]:T||["translation"];const{transDefaultProps:y}=m,x=y?.tOptions?{...y.tOptions,...r}:r,E=d??y?.shouldUnescape,b=y?.values?{...y.values,...o}:o,C=y?.components?{...y.components,...a}:a,w=it(t,m,h,s),u=l||x?.defaultValue||w||m.transEmptyNodeValue||(typeof s=="function"?ct(s):s),{hashTransKey:O}=m,A=s||(O?O(w||u):w||u);h.options?.interpolation?.defaultVariables?o=b&&Object.keys(b).length>0?{...b,...h.options.interpolation.defaultVariables}:{...h.options.interpolation.defaultVariables}:o=b;const k=xt(t);k&&typeof k.count=="number"&&e===void 0&&(e=k.count);const R=o||e!==void 0&&!h.options?.interpolation?.alwaysFormat||!t?x.interpolation:{interpolation:{...x.interpolation,prefix:"#$?",suffix:"?$#"}},L={...x,context:n||x.context,count:e,...o,...R,defaultValue:u,ns:T};let _=A?g(A,L):u;_===A&&u&&(_=u);const I=Ct(C,_,h,s);let D=I||t,M=null;At(I)&&(M=I,D=t);const N=Lt(D,M,_,h,m,L,E),j=i??m.defaultTransParent;return j?v.createElement(j,c,N):N}function Gt({children:t,count:e,parent:i,i18nKey:s,context:n,tOptions:r={},values:o,defaults:l,components:a,ns:p,i18n:f,t:S,shouldUnescape:d,...c}){const{i18n:h,defaultNS:g}=v.useContext(ut)||{},m=f||h||tt(),T=S||m?.t.bind(m);return zt({children:t,count:e,parent:i,i18nKey:s,context:n,tOptions:r,values:o,defaults:l,components:a,ns:p||T?.ns||g||m?.options?.defaultNS,i18n:m,t:S,shouldUnescape:d,...c})}var Rt="1.3.17";function nt(t,e,i){return Math.max(t,Math.min(e,i))}function _t(t,e,i){return(1-i)*t+i*e}function Ht(t,e,i,s){return _t(t,e,1-Math.exp(-i*s))}function Vt(t,e){return(t%e+e)%e}var Wt=class{isRunning=!1;value=0;from=0;to=0;currentTime=0;lerp;duration;easing;onUpdate;advance(t){if(!this.isRunning)return;let e=!1;if(this.duration&&this.easing){this.currentTime+=t;const i=nt(0,this.currentTime/this.duration,1);e=i>=1;const s=e?1:this.easing(i);this.value=this.from+(this.to-this.from)*s}else this.lerp?(this.value=Ht(this.value,this.to,this.lerp*60,t),Math.round(this.value)===this.to&&(this.value=this.to,e=!0)):(this.value=this.to,e=!0);e&&this.stop(),this.onUpdate?.(this.value,e)}stop(){this.isRunning=!1}fromTo(t,e,{lerp:i,duration:s,easing:n,onStart:r,onUpdate:o}){this.from=this.value=t,this.to=e,this.lerp=i,this.duration=s,this.easing=n,this.currentTime=0,this.isRunning=!0,r?.(),this.onUpdate=o}};function $t(t,e){let i;return function(...s){let n=this;clearTimeout(i),i=setTimeout(()=>{i=void 0,t.apply(n,s)},e)}}var It=class{constructor(t,e,{autoResize:i=!0,debounce:s=250}={}){this.wrapper=t,this.content=e,i&&(this.debouncedResize=$t(this.resize,s),this.wrapper instanceof Window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}width=0;height=0;scrollHeight=0;scrollWidth=0;debouncedResize;wrapperResizeObserver;contentResizeObserver;destroy(){this.wrapperResizeObserver?.disconnect(),this.contentResizeObserver?.disconnect(),this.wrapper===window&&this.debouncedResize&&window.removeEventListener("resize",this.debouncedResize,!1)}resize=()=>{this.onWrapperResize(),this.onContentResize()};onWrapperResize=()=>{this.wrapper instanceof Window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)};onContentResize=()=>{this.wrapper instanceof Window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)};get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}},rt=class{events={};emit(t,...e){let i=this.events[t]||[];for(let s=0,n=i.length;s<n;s++)i[s]?.(...e)}on(t,e){return this.events[t]?.push(e)||(this.events[t]=[e]),()=>{this.events[t]=this.events[t]?.filter(i=>e!==i)}}off(t,e){this.events[t]=this.events[t]?.filter(i=>e!==i)}destroy(){this.events={}}},J=100/6,H={passive:!1},jt=class{constructor(t,e={wheelMultiplier:1,touchMultiplier:1}){this.element=t,this.options=e,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,H),this.element.addEventListener("touchstart",this.onTouchStart,H),this.element.addEventListener("touchmove",this.onTouchMove,H),this.element.addEventListener("touchend",this.onTouchEnd,H)}touchStart={x:0,y:0};lastDelta={x:0,y:0};window={width:0,height:0};emitter=new rt;on(t,e){return this.emitter.on(t,e)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,H),this.element.removeEventListener("touchstart",this.onTouchStart,H),this.element.removeEventListener("touchmove",this.onTouchMove,H),this.element.removeEventListener("touchend",this.onTouchEnd,H)}onTouchStart=t=>{const{clientX:e,clientY:i}=t.targetTouches?t.targetTouches[0]:t;this.touchStart.x=e,this.touchStart.y=i,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:t})};onTouchMove=t=>{const{clientX:e,clientY:i}=t.targetTouches?t.targetTouches[0]:t,s=-(e-this.touchStart.x)*this.options.touchMultiplier,n=-(i-this.touchStart.y)*this.options.touchMultiplier;this.touchStart.x=e,this.touchStart.y=i,this.lastDelta={x:s,y:n},this.emitter.emit("scroll",{deltaX:s,deltaY:n,event:t})};onTouchEnd=t=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:t})};onWheel=t=>{let{deltaX:e,deltaY:i,deltaMode:s}=t;const n=s===1?J:s===2?this.window.width:1,r=s===1?J:s===2?this.window.height:1;e*=n,i*=r,e*=this.options.wheelMultiplier,i*=this.options.wheelMultiplier,this.emitter.emit("scroll",{deltaX:e,deltaY:i,event:t})};onWindowResize=()=>{this.window={width:window.innerWidth,height:window.innerHeight}}},G=t=>Math.min(1,1.001-Math.pow(2,-10*t)),Dt=class{_isScrolling=!1;_isStopped=!1;_isLocked=!1;_preventNextNativeScrollEvent=!1;_resetVelocityTimeout=null;_rafId=null;isTouching;time=0;userData={};lastVelocity=0;velocity=0;direction=0;options;targetScroll;animatedScroll;animate=new Wt;emitter=new rt;dimensions;virtualScroll;constructor({wrapper:t=window,content:e=document.documentElement,eventsTarget:i=t,smoothWheel:s=!0,syncTouch:n=!1,syncTouchLerp:r=.075,touchInertiaExponent:o=1.7,duration:l,easing:a,lerp:p=.1,infinite:f=!1,orientation:S="vertical",gestureOrientation:d=S==="horizontal"?"both":"vertical",touchMultiplier:c=1,wheelMultiplier:h=1,autoResize:g=!0,prevent:m,virtualScroll:T,overscroll:y=!0,autoRaf:x=!1,anchors:E=!1,autoToggle:b=!1,allowNestedScroll:C=!1,__experimental__naiveDimensions:w=!1,naiveDimensions:u=w,stopInertiaOnNavigate:O=!1}={}){window.lenisVersion=Rt,(!t||t===document.documentElement)&&(t=window),typeof l=="number"&&typeof a!="function"?a=G:typeof a=="function"&&typeof l!="number"&&(l=1),this.options={wrapper:t,content:e,eventsTarget:i,smoothWheel:s,syncTouch:n,syncTouchLerp:r,touchInertiaExponent:o,duration:l,easing:a,lerp:p,infinite:f,gestureOrientation:d,orientation:S,touchMultiplier:c,wheelMultiplier:h,autoResize:g,prevent:m,virtualScroll:T,overscroll:y,autoRaf:x,anchors:E,autoToggle:b,allowNestedScroll:C,naiveDimensions:u,stopInertiaOnNavigate:O},this.dimensions=new It(t,e,{autoResize:g}),this.updateClassName(),this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.addEventListener("scrollend",this.onScrollEnd,{capture:!0}),(this.options.anchors||this.options.stopInertiaOnNavigate)&&this.options.wrapper.addEventListener("click",this.onClick,!1),this.options.wrapper.addEventListener("pointerdown",this.onPointerDown,!1),this.virtualScroll=new jt(i,{touchMultiplier:c,wheelMultiplier:h}),this.virtualScroll.on("scroll",this.onVirtualScroll),this.options.autoToggle&&(this.checkOverflow(),this.rootElement.addEventListener("transitionend",this.onTransitionEnd,{passive:!0})),this.options.autoRaf&&(this._rafId=requestAnimationFrame(this.raf))}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.removeEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.wrapper.removeEventListener("pointerdown",this.onPointerDown,!1),(this.options.anchors||this.options.stopInertiaOnNavigate)&&this.options.wrapper.removeEventListener("click",this.onClick,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.cleanUpClassName(),this._rafId&&cancelAnimationFrame(this._rafId)}on(t,e){return this.emitter.on(t,e)}off(t,e){return this.emitter.off(t,e)}onScrollEnd=t=>{t instanceof CustomEvent||(this.isScrolling==="smooth"||this.isScrolling===!1)&&t.stopPropagation()};dispatchScrollendEvent=()=>{this.options.wrapper.dispatchEvent(new CustomEvent("scrollend",{bubbles:this.options.wrapper===window,detail:{lenisScrollEnd:!0}}))};get overflow(){const t=this.isHorizontal?"overflow-x":"overflow-y";return getComputedStyle(this.rootElement)[t]}checkOverflow(){["hidden","clip"].includes(this.overflow)?this.internalStop():this.internalStart()}onTransitionEnd=t=>{t.propertyName.includes("overflow")&&this.checkOverflow()};setScroll(t){this.isHorizontal?this.options.wrapper.scrollTo({left:t,behavior:"instant"}):this.options.wrapper.scrollTo({top:t,behavior:"instant"})}onClick=t=>{const i=t.composedPath().filter(s=>s instanceof HTMLAnchorElement&&s.getAttribute("href"));if(this.options.anchors){const s=i.find(n=>n.getAttribute("href")?.includes("#"));if(s){const n=s.getAttribute("href");if(n){const r=typeof this.options.anchors=="object"&&this.options.anchors?this.options.anchors:void 0,o=`#${n.split("#")[1]}`;this.scrollTo(o,r)}}}this.options.stopInertiaOnNavigate&&i.find(n=>n.host===window.location.host)&&this.reset()};onPointerDown=t=>{t.button===1&&this.reset()};onVirtualScroll=t=>{if(typeof this.options.virtualScroll=="function"&&this.options.virtualScroll(t)===!1)return;const{deltaX:e,deltaY:i,event:s}=t;if(this.emitter.emit("virtual-scroll",{deltaX:e,deltaY:i,event:s}),s.ctrlKey||s.lenisStopPropagation)return;const n=s.type.includes("touch"),r=s.type.includes("wheel");this.isTouching=s.type==="touchstart"||s.type==="touchmove";const o=e===0&&i===0;if(this.options.syncTouch&&n&&s.type==="touchstart"&&o&&!this.isStopped&&!this.isLocked){this.reset();return}const a=this.options.gestureOrientation==="vertical"&&i===0||this.options.gestureOrientation==="horizontal"&&e===0;if(o||a)return;let p=s.composedPath();p=p.slice(0,p.indexOf(this.rootElement));const f=this.options.prevent;if(p.find(m=>m instanceof HTMLElement&&(typeof f=="function"&&f?.(m)||m.hasAttribute?.("data-lenis-prevent")||n&&m.hasAttribute?.("data-lenis-prevent-touch")||r&&m.hasAttribute?.("data-lenis-prevent-wheel")||this.options.allowNestedScroll&&this.checkNestedScroll(m,{deltaX:e,deltaY:i}))))return;if(this.isStopped||this.isLocked){s.cancelable&&s.preventDefault();return}if(!(this.options.syncTouch&&n||this.options.smoothWheel&&r)){this.isScrolling="native",this.animate.stop(),s.lenisStopPropagation=!0;return}let d=i;this.options.gestureOrientation==="both"?d=Math.abs(i)>Math.abs(e)?i:e:this.options.gestureOrientation==="horizontal"&&(d=e),(!this.options.overscroll||this.options.infinite||this.options.wrapper!==window&&this.limit>0&&(this.animatedScroll>0&&this.animatedScroll<this.limit||this.animatedScroll===0&&i>0||this.animatedScroll===this.limit&&i<0))&&(s.lenisStopPropagation=!0),s.cancelable&&s.preventDefault();const c=n&&this.options.syncTouch,g=n&&s.type==="touchend";g&&(d=Math.sign(this.velocity)*Math.pow(Math.abs(this.velocity),this.options.touchInertiaExponent)),this.scrollTo(this.targetScroll+d,{programmatic:!1,...c?{lerp:g?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}})};resize(){this.dimensions.resize(),this.animatedScroll=this.targetScroll=this.actualScroll,this.emit()}emit(){this.emitter.emit("scroll",this)}onNativeScroll=()=>{if(this._resetVelocityTimeout!==null&&(clearTimeout(this._resetVelocityTimeout),this._resetVelocityTimeout=null),this._preventNextNativeScrollEvent){this._preventNextNativeScrollEvent=!1;return}if(this.isScrolling===!1||this.isScrolling==="native"){const t=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity,this.velocity=this.animatedScroll-t,this.direction=Math.sign(this.animatedScroll-t),this.isStopped||(this.isScrolling="native"),this.emit(),this.velocity!==0&&(this._resetVelocityTimeout=setTimeout(()=>{this.lastVelocity=this.velocity,this.velocity=0,this.isScrolling=!1,this.emit()},400))}};reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity=0,this.animate.stop()}start(){if(this.isStopped){if(this.options.autoToggle){this.rootElement.style.removeProperty("overflow");return}this.internalStart()}}internalStart(){this.isStopped&&(this.reset(),this.isStopped=!1,this.emit())}stop(){if(!this.isStopped){if(this.options.autoToggle){this.rootElement.style.setProperty("overflow","clip");return}this.internalStop()}}internalStop(){this.isStopped||(this.reset(),this.isStopped=!0,this.emit())}raf=t=>{const e=t-(this.time||t);this.time=t,this.animate.advance(e*.001),this.options.autoRaf&&(this._rafId=requestAnimationFrame(this.raf))};scrollTo(t,{offset:e=0,immediate:i=!1,lock:s=!1,programmatic:n=!0,lerp:r=n?this.options.lerp:void 0,duration:o=n?this.options.duration:void 0,easing:l=n?this.options.easing:void 0,onStart:a,onComplete:p,force:f=!1,userData:S}={}){if(!((this.isStopped||this.isLocked)&&!f)){if(typeof t=="string"&&["top","left","start","#"].includes(t))t=0;else if(typeof t=="string"&&["bottom","right","end"].includes(t))t=this.limit;else{let d;if(typeof t=="string"?(d=document.querySelector(t),d||(t==="#top"?t=0:console.warn("Lenis: Target not found",t))):t instanceof HTMLElement&&t?.nodeType&&(d=t),d){if(this.options.wrapper!==window){const h=this.rootElement.getBoundingClientRect();e-=this.isHorizontal?h.left:h.top}const c=d.getBoundingClientRect();t=(this.isHorizontal?c.left:c.top)+this.animatedScroll}}if(typeof t=="number"){if(t+=e,t=Math.round(t),this.options.infinite){if(n){this.targetScroll=this.animatedScroll=this.scroll;const d=t-this.animatedScroll;d>this.limit/2?t=t-this.limit:d<-this.limit/2&&(t=t+this.limit)}}else t=nt(0,t,this.limit);if(t===this.targetScroll){a?.(this),p?.(this);return}if(this.userData=S??{},i){this.animatedScroll=this.targetScroll=t,this.setScroll(this.scroll),this.reset(),this.preventNextNativeScrollEvent(),this.emit(),p?.(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()});return}n||(this.targetScroll=t),typeof o=="number"&&typeof l!="function"?l=G:typeof l=="function"&&typeof o!="number"&&(o=1),this.animate.fromTo(this.animatedScroll,t,{duration:o,easing:l,lerp:r,onStart:()=>{s&&(this.isLocked=!0),this.isScrolling="smooth",a?.(this)},onUpdate:(d,c)=>{this.isScrolling="smooth",this.lastVelocity=this.velocity,this.velocity=d-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=d,this.setScroll(this.scroll),n&&(this.targetScroll=d),c||this.emit(),c&&(this.reset(),this.emit(),p?.(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()}),this.preventNextNativeScrollEvent())}})}}}preventNextNativeScrollEvent(){this._preventNextNativeScrollEvent=!0,requestAnimationFrame(()=>{this._preventNextNativeScrollEvent=!1})}checkNestedScroll(t,{deltaX:e,deltaY:i}){const s=Date.now(),n=t._lenis??={};let r,o,l,a,p,f,S,d;const c=this.options.gestureOrientation;if(s-(n.time??0)>2e3){n.time=Date.now();const b=window.getComputedStyle(t);n.computedStyle=b;const C=b.overflowX,w=b.overflowY;if(r=["auto","overlay","scroll"].includes(C),o=["auto","overlay","scroll"].includes(w),n.hasOverflowX=r,n.hasOverflowY=o,!r&&!o||c==="vertical"&&!o||c==="horizontal"&&!r)return!1;p=t.scrollWidth,f=t.scrollHeight,S=t.clientWidth,d=t.clientHeight,l=p>S,a=f>d,n.isScrollableX=l,n.isScrollableY=a,n.scrollWidth=p,n.scrollHeight=f,n.clientWidth=S,n.clientHeight=d}else l=n.isScrollableX,a=n.isScrollableY,r=n.hasOverflowX,o=n.hasOverflowY,p=n.scrollWidth,f=n.scrollHeight,S=n.clientWidth,d=n.clientHeight;if(!r&&!o||!l&&!a||c==="vertical"&&(!o||!a)||c==="horizontal"&&(!r||!l))return!1;let h;if(c==="horizontal")h="x";else if(c==="vertical")h="y";else{const b=e!==0,C=i!==0;b&&r&&l&&(h="x"),C&&o&&a&&(h="y")}if(!h)return!1;let g,m,T,y,x;if(h==="x")g=t.scrollLeft,m=p-S,T=e,y=r,x=l;else if(h==="y")g=t.scrollTop,m=f-d,T=i,y=o,x=a;else return!1;return(T>0?g<m:g>0)&&y&&x}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){const t=this.options.wrapper;return this.isHorizontal?t.scrollX??t.scrollLeft:t.scrollY??t.scrollTop}get scroll(){return this.options.infinite?Vt(this.animatedScroll,this.limit):this.animatedScroll}get progress(){return this.limit===0?1:this.scroll/this.limit}get isScrolling(){return this._isScrolling}set isScrolling(t){this._isScrolling!==t&&(this._isScrolling=t,this.updateClassName())}get isStopped(){return this._isStopped}set isStopped(t){this._isStopped!==t&&(this._isStopped=t,this.updateClassName())}get isLocked(){return this._isLocked}set isLocked(t){this._isLocked!==t&&(this._isLocked=t,this.updateClassName())}get isSmooth(){return this.isScrolling==="smooth"}get className(){let t="lenis";return this.options.autoToggle&&(t+=" lenis-autoToggle"),this.isStopped&&(t+=" lenis-stopped"),this.isLocked&&(t+=" lenis-locked"),this.isScrolling&&(t+=" lenis-scrolling"),this.isScrolling==="smooth"&&(t+=" lenis-smooth"),t}updateClassName(){this.cleanUpClassName(),this.rootElement.className=`${this.rootElement.className} ${this.className}`.trim()}cleanUpClassName(){this.rootElement.className=this.rootElement.className.replace(/lenis(-\w+)?/g,"").trim()}},Mt=class{constructor(t){this.state=t}listeners=[];set(t){this.state=t;for(let e of this.listeners)e(this.state)}subscribe(t){return this.listeners=[...this.listeners,t],()=>{this.listeners=this.listeners.filter(e=>e!==t)}}get(){return this.state}};function Pt(t){const[e,i]=v.useState(t.get());return v.useEffect(()=>t.subscribe(s=>i(s)),[t]),e}var ot=v.createContext(null),U=new Mt(null),Kt=v.forwardRef(({children:t,root:e=!1,options:i={},autoRaf:s=!0,...n},r)=>{const o=v.useRef(null),l=v.useRef(null),[a,p]=v.useState(void 0);v.useImperativeHandle(r,()=>({wrapper:o.current,content:l.current,lenis:a}),[a]),v.useEffect(()=>{const c=new Dt({...i,...o.current&&l.current&&{wrapper:o.current,content:l.current},autoRaf:i?.autoRaf??s});return p(c),()=>{c.destroy(),p(void 0)}},[e,JSON.stringify({...i,wrapper:null,content:null})]);const f=v.useRef([]),S=v.useCallback((c,h)=>{f.current.push({callback:c,priority:h}),f.current.sort((g,m)=>g.priority-m.priority)},[]),d=v.useCallback(c=>{f.current=f.current.filter(h=>h.callback!==c)},[]);return v.useEffect(()=>{if(e&&a)return U.set({lenis:a,addCallback:S,removeCallback:d}),()=>U.set(null)},[e,a,S,d]),v.useEffect(()=>{if(!a)return;const c=h=>{for(let g=0;g<f.current.length;g++)f.current[g]?.callback(h)};return a.on("scroll",c),()=>{a.off("scroll",c)}},[a]),t?z.jsx(ot.Provider,{value:{lenis:a,addCallback:S,removeCallback:d},children:e&&e!=="asChild"?t:z.jsx("div",{ref:o,...n,children:z.jsx("div",{ref:l,children:t})})}):null}),Ft={};function Xt(t,e=[],i=0){const s=v.useContext(ot),n=Pt(U),r=s??n??Ft,{lenis:o,addCallback:l,removeCallback:a}=r;return v.useEffect(()=>{if(!(!t||!l||!a||!o))return l(t,i),t(o),()=>{a(t)}},[o,l,a,i,...e]),o}function Qt({isOpen:t,onClose:e,children:i,closeOnBackdropClick:s=!0}){const n=Xt(()=>{});v.useEffect(()=>{const o=l=>{l.key==="Escape"&&t&&e()};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[t,e]),v.useEffect(()=>{n&&(t?n.stop():n.start())},[t,n]);const r={hidden:{opacity:0},visible:{opacity:1},exit:{opacity:0}};return z.jsx(ft,{children:t&&z.jsxs(z.Fragment,{children:[z.jsx(q.div,{className:"modal-backdrop",onClick:()=>s&&e(),initial:{opacity:0},animate:{opacity:.4},exit:{opacity:0},transition:{duration:.3}}),z.jsx(q.div,{className:"modal-wrapper",variants:r,initial:"hidden",animate:"visible",exit:"exit",transition:{duration:.4,ease:"easeInOut"},children:z.jsxs("div",{className:"modal-content",children:[z.jsx("button",{className:"modal-close",onClick:e,children:z.jsx(pt.Close,{})}),i]})})]})})}export{Qt as M,Kt as R,Gt as T,Xt as u};
