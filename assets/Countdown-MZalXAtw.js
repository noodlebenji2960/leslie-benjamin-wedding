import{j as a}from"./jsx-runtime-u17CrQMm.js";import{a as h}from"./chunk-LFPYN7LY-BSAdruXa.js";import{c as v}from"./ConfigContext-B7dQSa9c.js";function j({date:l,time:f,size:e="lg",showLabel:x=!0}){const{t:s}=v(["common"]),[d,g]=h.useState({days:0,hours:0,minutes:0,seconds:0}),[c,w]=h.useState({days:0,hours:0,minutes:0,seconds:0});h.useEffect(()=>{const o=new Date(`${l}T${f}:00`),r=()=>{const n=Date.now(),t=o.getTime()-n,p={days:Math.max(Math.floor(t/(1e3*60*60*24)),0),hours:Math.max(Math.floor(t/(1e3*60*60)%24),0),minutes:Math.max(Math.floor(t/(1e3*60)%60),0),seconds:Math.max(Math.floor(t/1e3%60),0)};w(i=>i),g(i=>(w(i),p))};r();const m=setInterval(r,1e3);return()=>clearInterval(m)},[l,f]);const u=(o,r,m)=>{let n=s(o),t=s(o);return o==="days"?(n=s("days.long"),t=s("days.short")):o==="hours"?(n=s("hours.long"),t=s("hours.short")):o==="minutes"?(n=s("minutes.long"),t=s("minutes.short")):o==="seconds"&&(n=s("seconds.long"),t=s("seconds.short")),a.jsxs("div",{className:`countdown-item countdown-item--${e}`,title:e=="sm"?n:"",children:[a.jsx("div",{className:`countdown-number countdown-number--${e}${r!==m?" flip":""}`,children:r.toString().padStart(2,"0")}),x&&a.jsx("div",{className:`countdown-label countdown-label--${e}`,children:e==="sm"?t:n})]})};return a.jsx("div",{className:`countdown-card countdown-card--${e}`,children:a.jsxs("div",{className:`countdown-grid countdown-grid--${e}`,children:[u("days",d.days,c.days),u("hours",d.hours,c.hours),u("minutes",d.minutes,c.minutes),u("seconds",d.seconds,c.seconds)]})})}export{j as C};
