import{j as f}from"./jsx-runtime-u17CrQMm.js";import{a as n,v as m,p as L}from"./chunk-EPOLDU6W-Br5zSlye.js";import{u as p}from"./useTranslation-Dooh0bhE.js";const u=n.createContext(void 0);function P({children:a}){const c=m(),o=L(),{i18n:s}=p(),[i,r]=n.useState(!1),e=(t=>t.startsWith("/en")?"en":(t.startsWith("/es"),"es"))(o.pathname);n.useEffect(()=>{s.language!==e&&s.changeLanguage(e)},[e,s]);const g=()=>{r(!0);const t=e==="es"?"en":"es";localStorage.setItem("preferred-language",t);const l=o.pathname.replace(/^\/(en|es)/,"")||"/";c(`/${t}${l}`,{replace:!0}),r(!1)};return f.jsx(u.Provider,{value:{locale:e,switchLanguage:g,isPending:i},children:a})}function w(){const a=n.useContext(u);if(!a)throw new Error("useLanguage must be used within a LanguageProvider");return a}export{P as L,w as u};
