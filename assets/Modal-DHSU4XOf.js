import{y as te,a as x}from"./chunk-EPOLDU6W-BnKKP6Ue.js";import{k as ne}from"./i18next-BDvusv7y.js";import{w as U,g as X,b as Y,i as D,c as H,d as L,e as re,I as se}from"./useTranslation-B9zSoiKr.js";import{j as _}from"./jsx-runtime-u17CrQMm.js";import{A as ae,m as Z}from"./proxy-DBX3VoSC.js";var W,q;function ie(){return q||(q=1,W={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),W}var oe=ie();const ce=te(oe);var le=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function J(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},n=e.match(/<\/?([^\s]+?)[/\s>]/);if(n&&(t.name=n[1],(ce[n[1]]||e.charAt(e.length-2)==="/")&&(t.voidElement=!0),t.name.startsWith("!--"))){var r=e.indexOf("-->");return{type:"comment",comment:r!==-1?e.slice(4,r):""}}for(var i=new RegExp(le),s=null;(s=i.exec(e))!==null;)if(s[0].trim())if(s[1]){var o=s[1].trim(),c=[o,""];o.indexOf("=")>-1&&(c=o.split("=")),t.attrs[c[0]]=c[1],i.lastIndex--}else s[2]&&(t.attrs[s[2]]=s[3].trim().substring(1,s[3].length-1));return t}var ue=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,pe=/^\s*$/,fe=Object.create(null);function G(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?(function(n){var r=[];for(var i in n)r.push(i+'="'+n[i]+'"');return r.length?" "+r.join(" "):""})(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(G,"")+"</"+t.name+">";case"comment":return e+"<!--"+t.comment+"-->"}}var me={parse:function(e,t){t||(t={}),t.components||(t.components=fe);var n,r=[],i=[],s=-1,o=!1;if(e.indexOf("<")!==0){var c=e.indexOf("<");r.push({type:"text",content:c===-1?e:e.substring(0,c)})}return e.replace(ue,function(l,p){if(o){if(l!=="</"+n.name+">")return;o=!1}var f,A=l.charAt(1)!=="/",j=l.startsWith("<!--"),g=p+l.length,u=e.charAt(g);if(j){var k=J(l);return s<0?(r.push(k),r):((f=i[s]).children.push(k),r)}if(A&&(s++,(n=J(l)).type==="tag"&&t.components[n.name]&&(n.type="component",o=!0),n.voidElement||o||!u||u==="<"||n.children.push({type:"text",content:e.slice(g,e.indexOf("<",g))}),s===0&&r.push(n),(f=i[s-1])&&f.children.push(n),i[s]=n),(!A||n.voidElement)&&(s>-1&&(n.voidElement||n.name===l.slice(2,-1))&&(s--,n=s===-1?r:i[s]),!o&&u!=="<"&&u)){f=s===-1?r:i[s].children;var d=e.indexOf("<",g),$=e.slice(g,d===-1?void 0:d);pe.test($)&&($=" "),(d>-1&&s+f.length>=0||$!==" ")&&f.push({type:"text",content:$})}}),r},stringify:function(e){return e.reduce(function(t,n){return t+G("",n)},"")}};const z=(e,t)=>{if(!e)return!1;const n=e.props?.children??e.children;return t?n.length>0:!!n},B=e=>{if(!e)return[];const t=e.props?.children??e.children;return e.props?.i18nIsDynamicList?S(t):t},de=e=>Array.isArray(e)&&e.every(x.isValidElement),S=e=>Array.isArray(e)?e:[e],he=(e,t)=>{const n={...t};return n.props={...t.props,...e.props},n},ye=e=>{const t={};if(!e)return t;const n=r=>{S(r).forEach(s=>{D(s)||(z(s)?n(B(s)):L(s)&&!x.isValidElement(s)&&Object.assign(t,s))})};return n(e),t},Q=(e,t,n,r)=>{if(!e)return"";let i="";const s=S(e),o=t?.transSupportBasicHtmlNodes?t.transKeepBasicHtmlNodesFor??[]:[];return s.forEach((c,l)=>{if(D(c)){i+=`${c}`;return}if(x.isValidElement(c)){const{props:p,type:f}=c,A=Object.keys(p).length,j=o.indexOf(f)>-1,g=p.children;if(!g&&j&&!A){i+=`<${f}/>`;return}if(!g&&(!j||A)||p.i18nIsDynamicList){i+=`<${l}></${l}>`;return}if(j&&A===1&&D(g)){i+=`<${f}>${g}</${f}>`;return}const u=Q(g,t,n,r);i+=`<${l}>${u}</${l}>`;return}if(c===null){H(n,"TRANS_NULL_VALUE","Passed in a null value as child",{i18nKey:r});return}if(L(c)){const{format:p,...f}=c,A=Object.keys(f);if(A.length===1){const j=p?`${A[0]}, ${p}`:A[0];i+=`{{${j}}}`;return}H(n,"TRANS_INVALID_OBJ","Invalid child - Object should only have keys {{ value, format }} (format is optional).",{i18nKey:r,child:c});return}H(n,"TRANS_INVALID_VAR","Passed in a variable like {number} - pass variables for interpolation as full objects like {{number}}.",{i18nKey:r,child:c})}),i},ge=(e,t=[],n={})=>{if(!e)return e;const r=Object.keys(n),i=[...t,...r];let s="",o=0;for(;o<e.length;)if(e[o]==="<"){let c=!1;const l=e.slice(o).match(/^<\/(\d+|[a-zA-Z][a-zA-Z0-9_-]*)>/);if(l){const p=l[1];(/^\d+$/.test(p)||i.includes(p))&&(c=!0,s+=l[0],o+=l[0].length)}if(!c){const p=e.slice(o).match(/^<(\d+|[a-zA-Z][a-zA-Z0-9_-]*)(\s+[\w-]+(?:=(?:"[^"]*"|'[^']*'|[^\s>]+))?)*\s*(\/)?>/);if(p){const f=p[1];(/^\d+$/.test(f)||i.includes(f))&&(c=!0,s+=p[0],o+=p[0].length)}}c||(s+="&lt;",o+=1)}else s+=e[o],o+=1;return s},ve=(e,t,n,r,i,s,o)=>{if(n==="")return[];const c=i.transKeepBasicHtmlNodesFor||[],l=n&&new RegExp(c.map(h=>`<${h}`).join("|")).test(n);if(!e&&!t&&!l&&!o)return[n];const p=t??{},f=h=>{S(h).forEach(y=>{D(y)||(z(y)?f(B(y)):L(y)&&!x.isValidElement(y)&&Object.assign(p,y))})};f(e);const A=ge(n,c,p),j=me.parse(`<0>${A}</0>`),g={...p,...s},u=(h,O,y)=>{const b=B(h),I=d(b,O.children,y);return de(b)&&I.length===0||h.props?.i18nIsDynamicList?b:I},k=(h,O,y,b,I)=>{h.dummy?(h.children=O,y.push(x.cloneElement(h,{key:b},I?void 0:O))):y.push(...x.Children.map([h],m=>{const a="data-i18n-is-dynamic-list",C={key:b,[a]:void 0};return m&&m.props&&Object.keys(m.props).forEach(T=>{T==="ref"||T==="children"||T==="i18nIsDynamicList"||T===a||(C[T]=m.props[T])}),x.cloneElement(m,C,I?null:O)}))},d=(h,O,y)=>{const b=S(h);return S(O).reduce((m,a,C)=>{const T=a.children?.[0]?.content&&r.services.interpolator.interpolate(a.children[0].content,g,r.language);if(a.type==="tag"){let N=b[parseInt(a.name,10)];!N&&t&&(N=t[a.name]),y.length===1&&!N&&(N=y[0][a.name]),N||(N={});const V={...a.attrs};o&&Object.keys(V).forEach(v=>{const P=V[v];D(P)&&(V[v]=re(P))});const E=Object.keys(V).length!==0?he({props:V},N):N,w=x.isValidElement(E),F=w&&z(a,!0)&&!a.voidElement,R=l&&L(E)&&E.dummy&&!w,M=L(t)&&Object.hasOwnProperty.call(t,a.name);if(D(E)){const v=r.services.interpolator.interpolate(E,g,r.language);m.push(v)}else if(z(E)||F){const v=u(E,a,y);k(E,v,m,C)}else if(R){const v=d(b,a.children,y);k(E,v,m,C)}else if(Number.isNaN(parseFloat(a.name)))if(M){const v=u(E,a,y);k(E,v,m,C,a.voidElement)}else if(i.transSupportBasicHtmlNodes&&c.indexOf(a.name)>-1)if(a.voidElement)m.push(x.createElement(a.name,{key:`${a.name}-${C}`}));else{const v=d(b,a.children,y);m.push(x.createElement(a.name,{key:`${a.name}-${C}`},v))}else if(a.voidElement)m.push(`<${a.name} />`);else{const v=d(b,a.children,y);m.push(`<${a.name}>${v}</${a.name}>`)}else if(L(E)&&!w){const v=a.children[0]?T:null;v&&m.push(v)}else k(E,T,m,C,a.children.length!==1||!T)}else if(a.type==="text"){const N=i.transWrapTextNodes,V=typeof i.unescape=="function"?i.unescape:X().unescape,E=o?V(r.services.interpolator.interpolate(a.content,g,r.language)):r.services.interpolator.interpolate(a.content,g,r.language);N?m.push(x.createElement(N,{key:`${a.name}-${C}`},E)):m.push(E)}return m},[])},$=d([{dummy:!0,children:e||[]}],j,S(e||[]));return B($[0])},K=(e,t,n)=>{const r=e.key||t,i=x.cloneElement(e,{key:r});if(!i.props||!i.props.children||n.indexOf(`${t}/>`)<0&&n.indexOf(`${t} />`)<0)return i;function s(){return x.createElement(x.Fragment,null,i)}return x.createElement(s,{key:r})},Ee=(e,t)=>e.map((n,r)=>K(n,r,t)),xe=(e,t)=>{const n={};return Object.keys(e).forEach(r=>{Object.assign(n,{[r]:K(e[r],r,t)})}),n},Ae=(e,t,n,r)=>e?Array.isArray(e)?Ee(e,t):L(e)?xe(e,t):(U(n,"TRANS_INVALID_COMPONENTS",'<Trans /> "components" prop expects an object or array',{i18nKey:r}),null):null,be=e=>!L(e)||Array.isArray(e)?!1:Object.keys(e).reduce((t,n)=>t&&Number.isNaN(Number.parseFloat(n)),!0);function Ne({children:e,count:t,parent:n,i18nKey:r,context:i,tOptions:s={},values:o,defaults:c,components:l,ns:p,i18n:f,t:A,shouldUnescape:j,...g}){const u=f||Y();if(!u)return U(u,"NO_I18NEXT_INSTANCE","Trans: You need to pass in an i18next instance using i18nextReactModule",{i18nKey:r}),e;const k=A||u.t.bind(u)||(ee=>ee),d={...X(),...u.options?.react};let $=p||k.ns||u.options?.defaultNS;$=D($)?[$]:$||["translation"];const{transDefaultProps:h}=d,O=h?.tOptions?{...h.tOptions,...s}:s,y=j??h?.shouldUnescape,b=h?.values?{...h.values,...o}:o,I=h?.components?{...h.components,...l}:l,m=Q(e,d,u,r),a=c||O?.defaultValue||m||d.transEmptyNodeValue||(typeof r=="function"?ne(r):r),{hashTransKey:C}=d,T=r||(C?C(m||a):m||a);u.options?.interpolation?.defaultVariables?o=b&&Object.keys(b).length>0?{...b,...u.options.interpolation.defaultVariables}:{...u.options.interpolation.defaultVariables}:o=b;const N=ye(e);N&&typeof N.count=="number"&&t===void 0&&(t=N.count);const V=o||t!==void 0&&!u.options?.interpolation?.alwaysFormat||!e?O.interpolation:{interpolation:{...O.interpolation,prefix:"#$?",suffix:"?$#"}},E={...O,context:i||O.context,count:t,...o,...V,defaultValue:a,ns:$};let w=T?k(T,E):a;w===T&&a&&(w=a);const F=Ae(I,w,u,r);let R=F||e,M=null;be(F)&&(M=F,R=e);const v=ve(R,M,w,u,d,E,y),P=n??d.defaultTransParent;return P?x.createElement(P,g,v):v}function ke({children:e,count:t,parent:n,i18nKey:r,context:i,tOptions:s={},values:o,defaults:c,components:l,ns:p,i18n:f,t:A,shouldUnescape:j,...g}){const{i18n:u,defaultNS:k}=x.useContext(se)||{},d=f||u||Y(),$=A||d?.t.bind(d);return Ne({children:e,count:t,parent:n,i18nKey:r,context:i,tOptions:s,values:o,defaults:c,components:l,ns:p||$?.ns||k||d?.options?.defaultNS,i18n:d,t:A,shouldUnescape:j,...g})}function Ve({isOpen:e,onClose:t,children:n,closeOnBackdropClick:r=!0}){x.useEffect(()=>{const s=o=>{o.key==="Escape"&&e&&t()};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[e,t]);const i={hidden:{opacity:0,y:-20,scale:.95},visible:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.95}};return _.jsx(ae,{children:e&&_.jsxs(_.Fragment,{children:[_.jsx(Z.div,{className:"modal-backdrop",onClick:()=>r&&t(),initial:{opacity:0},animate:{opacity:.4},exit:{opacity:0},transition:{duration:.3}}),_.jsx(Z.div,{className:"modal-wrapper",variants:i,initial:"hidden",animate:"visible",exit:"exit",transition:{duration:.4,ease:"easeInOut"},children:_.jsx("div",{className:"modal-content",children:n})})]})})}export{Ve as M,ke as T};
