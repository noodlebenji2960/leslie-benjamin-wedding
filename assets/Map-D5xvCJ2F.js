const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CwhzBTj7.js","assets/chunk-EPOLDU6W-Br5zSlye.js","assets/leaflet-src-Cdgl1a2T.js","assets/index-C4yRopEd.js","assets/leaflet-CIGW-MKW.css","assets/leaflet-routing-machine-CKlDM-za.js","assets/leaflet-routing-machine-1NKW7b23.css"])))=>i.map(i=>d[i]);
import{j as c}from"./jsx-runtime-u17CrQMm.js";import{a as u}from"./chunk-EPOLDU6W-Br5zSlye.js";const k="modulepreload",S=function(p){return"/leslie-benjamin-wedding/"+p},L={},h=function(s,a,R){let _=Promise.resolve();if(a&&a.length>0){let E=function(o){return Promise.all(o.map(r=>Promise.resolve(r).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),n=l?.nonce||l?.getAttribute("nonce");_=E(a.map(o=>{if(o=S(o),o in L)return;L[o]=!0;const r=o.endsWith(".css"),f=r?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${f}`))return;const e=document.createElement("link");if(e.rel=r?"stylesheet":k,r||(e.as="script"),e.crossOrigin="",e.href=o,n&&e.setAttribute("nonce",n),document.head.appendChild(e),r)return new Promise((b,v)=>{e.addEventListener("load",b),e.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${o}`)))})}))}function y(l){const n=new Event("vite:preloadError",{cancelable:!0});if(n.payload=l,window.dispatchEvent(n),!n.defaultPrevented)throw l}return _.then(l=>{for(const n of l||[])n.status==="rejected"&&y(n.reason);return s().catch(y)})},T=({label:p,coordinates:s,extraCoordinates:a,mapUrl:R,width:_="100%",height:y="300px",showRoute:l=!1,interactive:n=!1,zoom:E,style:o})=>{const[r,f]=u.useState(null),[e,b]=u.useState(null),[v,P]=u.useState(!1),g=u.useRef(null),d=u.useRef(null);if(u.useEffect(()=>{(async()=>{const[t,i]=await Promise.all([h(()=>import("./index-CwhzBTj7.js"),__vite__mapDeps([0,1,2,3])),h(()=>import("./leaflet-src-Cdgl1a2T.js").then(m=>m.l),__vite__mapDeps([2,1])),h(()=>Promise.resolve({}),__vite__mapDeps([4]))]);f(t),b(i.default)})()},[]),u.useEffect(()=>{!e||!l||(async()=>{await Promise.all([h(()=>import("./leaflet-routing-machine-CKlDM-za.js").then(m=>m.l),__vite__mapDeps([5,1])),h(()=>Promise.resolve({}),__vite__mapDeps([6]))]);let t=0;const i=setInterval(()=>{(e.Routing||window.L?.Routing)&&(e.Routing||(e.Routing=window.L.Routing),P(!0),clearInterval(i)),t++,t>20&&clearInterval(i)},100)})()},[e,l]),u.useEffect(()=>{const t=setInterval(()=>{const i=document.querySelector(".leaflet-control-attribution.leaflet-control");i&&(i.remove(),clearInterval(t))},100);return()=>clearInterval(t)},[]),u.useEffect(()=>{if(!(!v||!e||!g.current||!l||!a?.length)){d.current&&(d.current.remove(),d.current=null);try{const t=g.current,i=[e.latLng(s.lat,s.lng),e.latLng(a[0].lat,a[0].lng)];d.current=e.Routing.control({waypoints:i,routeWhileDragging:!1,show:!1,addWaypoints:!1,draggableWaypoints:!1,createMarker:()=>null,lineOptions:{styles:[{color:"var(--color-primary)",weight:4}],extendToWaypoints:!0,missingRouteTolerance:0}}).addTo(t),setTimeout(()=>{const m=document.querySelector(".leaflet-routing-container");m&&(m.style.display="none")},100)}catch(t){console.error("Failed to add routing:",t)}return()=>{d.current&&(d.current.remove(),d.current=null)}}},[v,e,l,s,a]),!r||!e)return null;const w=a?[s,...a]:[s],j=E!==void 0?{center:[s.lat,s.lng],zoom:E}:{bounds:w.map(t=>[t.lat,t.lng]),boundsOptions:{padding:[50,50]}};return c.jsxs(r.MapContainer,{ref:g,...j,style:{...o,width:_,height:y,borderRadius:"8px"},scrollWheelZoom:!1,dragging:n,touchZoom:n,doubleClickZoom:n,boxZoom:n,keyboard:n,zoomControl:n,whenReady:()=>{g.current&&g.current.invalidateSize()},children:[c.jsx(r.TileLayer,{url:"https://cartodb-basemaps-a.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png",attribution:""}),c.jsx(r.Marker,{position:[s.lat,s.lng],children:c.jsx(r.Popup,{children:R&&c.jsx("a",{href:R,target:"_blank",rel:"noopener noreferrer",children:p&&c.jsx("div",{className:"map-label",children:p})})})}),a?.map((t,i)=>t.showMarker!==!1?c.jsx(r.Marker,{position:[t.lat,t.lng],children:c.jsx(r.Popup,{children:t.label||"Additional location"})},i):null)]})};export{T as M};
