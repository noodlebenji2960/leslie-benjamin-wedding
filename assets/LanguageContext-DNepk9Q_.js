import{a as n,y as f,q as L,p as h}from"./chunk-EPOLDU6W-BvhK-deF.js";import{u as m}from"./useTranslation-sRXe-eoH.js";const u=n.createContext(void 0);function v({children:a}){const c=f(),o=L(),{i18n:s}=m(),[i,r]=n.useState(!1),e=(t=>t.startsWith("/en")?"en":(t.startsWith("/es"),"es"))(o.pathname);n.useEffect(()=>{s.language!==e&&s.changeLanguage(e)},[e,s]);const g=()=>{r(!0);const t=e==="es"?"en":"es";localStorage.setItem("preferred-language",t);const l=o.pathname.replace(/^\/(en|es)/,"")||"/";c(`/${t}${l}`,{replace:!0}),r(!1)};return h.jsx(u.Provider,{value:{locale:e,switchLanguage:g,isPending:i},children:a})}function P(){const a=n.useContext(u);if(!a)throw new Error("useLanguage must be used within a LanguageProvider");return a}export{v as L,P as u};
