import{p as L,a as o,t as y,w as $,v as R}from"./chunk-EPOLDU6W-BnKKP6Ue.js";import{j as e}from"./jsx-runtime-u17CrQMm.js";import{u as C}from"./useWeddingData-r-7mEpNk.js";import{C as M,u as O,R as B}from"./lenis-react-BbABM8Az.js";import{u as S}from"./useTranslation-B9zSoiKr.js";import{A as w,m as N}from"./proxy-DBX3VoSC.js";import{u as H}from"./LanguageContext-Ds-fbCcn.js";import{u as A}from"./ThemeContext-DoUZAlbR.js";import{I as P}from"./Icon-DFl7Gw49.js";function q({locale:t,links:s,buildLink:a}){const{t:c}=S(["common"]),d=L(),i=o.useRef(null),[m,j]=o.useState({left:0,width:0}),[f,l]=o.useState(!1),u=C(),h=(n=>n.replace(/^\/(en|es)/,"")||"/")(d.pathname),p=h==="/"||h==="",x=n=>{if(!i.current)return;const r=i.current.querySelectorAll(".nav-link")[n];if(!r)return;const I=i.current.getBoundingClientRect(),b=r.getBoundingClientRect();j({left:b.left-I.left,width:b.width})};o.useEffect(()=>{if(f)return;const n=s.findIndex(r=>r.path==="/"?p:h===r.path);n!==-1&&x(n)},[d.pathname,t,f]);const k=n=>{l(!0),x(n)},E=()=>{l(!1)},T=`${u.bride.firstName} & ${u.groom.firstName}`;return e.jsx(e.Fragment,{children:e.jsxs("nav",{className:"nav",children:[e.jsx(w,{children:!p&&e.jsx(N.div,{className:"logo-container",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.4,ease:"easeInOut"},children:e.jsx(y,{to:a("/"),className:"logo",children:e.jsx("h1",{children:T})})})}),e.jsx(w,{children:!p&&e.jsx(N.div,{className:"nav-countdown",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.4,ease:"easeInOut"},children:e.jsx(M,{size:"sm",date:u.wedding.date,time:u.wedding.ceremony.time})})}),e.jsxs("div",{className:"nav-links desktop",ref:i,children:[s.map((n,r)=>e.jsx(y,{to:a(n.path),className:"nav-link",onMouseEnter:()=>k(r),onMouseLeave:E,children:n.label},n.path)),e.jsx("div",{className:"nav-indicator",style:{transform:`translateX(${m.left}px)`,width:m.width}})]})]})})}function D({currentLocale:t,onSwitch:s,isPending:a=!1}){return e.jsx("button",{className:"language-switcher",onClick:s,disabled:a,"aria-label":`Switch to ${t==="es"?"English":"Spanish"}`,children:e.jsxs("div",{className:"language-icons",children:[e.jsx("span",{className:`language-label ${t==="es"?"active":""}`,children:"ES"}),e.jsx("span",{className:`language-label ${t==="en"?"active":""}`,children:"EN"})]})})}const v=["light","dark"],_={light:"Light mode",dark:"Dark mode",system:"System"};function z(){const{theme:t,setTheme:s}=A(),a=v.indexOf(t),c=()=>{const d=(a+1)%v.length,i=v[d]??v[0];s(i)};return e.jsx("button",{className:"theme-toggle-slider",onClick:c,"aria-label":`${_[t]}. Click to switch theme.`,children:e.jsxs("div",{className:"toggle-icons",children:[e.jsx("span",{className:`icon sun ${t==="light"?"active":""}`,children:"☀︎"}),e.jsx("span",{className:`icon moon ${t==="dark"?"active":""}`,children:"⏾"})]})})}function F({onClick:t}){const[s,a]=o.useState(!1);return o.useEffect(()=>{const c=()=>{a(window.scrollY>150)};return c(),window.addEventListener("scroll",c),()=>window.removeEventListener("scroll",c)},[]),e.jsx("button",{className:`back-to-top ${s?"visible":""}`,onClick:t,"aria-label":"Back to top",children:e.jsx(P.Up,{})})}const Z=$(function(){const s=L(),a=R(),[c,d]=o.useTransition(),{locale:i,switchLanguage:m}=H(),[j,f]=o.useState(!1),{t:l}=S(["common"]),u=o.useRef(null),g=O(()=>{});o.useEffect(()=>{g?.scrollTo(0,{immediate:!0})},[s.pathname,g]);const h=[{path:"/",label:l("nav.home")},{path:"/rsvp",label:l("nav.rsvp")},{path:"/schedule",label:l("nav.schedule")},{path:"/qa",label:l("nav.qa")}],p=x=>`/${i}${x==="/"?"":x}`;return e.jsx(B,{root:!0,children:e.jsxs("div",{className:"container",children:[e.jsx(q,{menuOpen:j,setMenuOpen:f,locale:i,links:h,buildLink:p,onLanguageSwitch:()=>d(m),isPending:c,hamburgerRef:u}),e.jsxs("main",{className:"main",children:[e.jsx(w,{mode:"wait",children:e.jsx(N.div,{className:"page-content",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3,ease:"easeInOut"},children:a},s.pathname)}),e.jsxs("div",{className:"fixed-container",children:[e.jsx(D,{currentLocale:i,onSwitch:m,isPending:c}),e.jsxs("div",{className:"group",children:[e.jsx(F,{onClick:()=>g?.scrollTo(0,{duration:1})}),e.jsx(z,{})]})]})]})]})})});export{Z as default};
